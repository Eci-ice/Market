(function(){"use strict";var e={9e3:function(e,t,s){var r=s(9242),i=s(3396);const o={id:"app"};function l(e,t){const s=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i.Wm)(s)])}var n=s(89);const a={},d=(0,n.Z)(a,[["render",l]]);var c=d,u=s(2483),g=s(7139),h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAAA0CAMAAABYZS1lAAABZVBMVEUAAABpOhBpOhBpORBpOxFmMxppOA9pOQ9pOhBoORBpOhBrOA5mQA1qOBMAAABpOhBsNg+AQABpOg9qOg9VKgBsOxRpOhFqQBVpORBpOhBjOQ5qOhBwQBBpOhBpORBpOhBpOhFpOhBpOg9mMxFpOhBpOhBpORFmPRRpORBpOxBoORBoORBpOhBpOhBpOhBpOxCAAABnOw9pOxBpOhBqOhBpOBFpOQ5xORxoOg5nNw5qOhBgQABoOBBiOxRoOhFpOhFpOhBqOhFrOQ9pOQ9oOhFoOg9oOQ9mOg9oOgxrPA1oOhBqOg9pOhBmMwBrNg1tPQxtSQBpOhBoORFtNxJpOhBpOw1pNxFqPhJpOg9nOw9pOxBoOg9pOxFpOQ9qORBrOxJqOg5pOQ9pORFqOxFqOw9pOhBpOhBpOxBpPA9oOhBoPBBkNwtqOQ5pOhBoOhBqNQtrOhBqOhBpPA9pOw5pOxFrOA9nOhLrquJsAAAAd3RSTlMA/8mBegpEpfJi4DcUKQH6IQTWVAYaiAw/1BK6EJ/evUvuVA+u9moZs4xRj8Bh5aECRcQwkTtICVglywggDZpbg3tD5yyVeCMWJl11bQUTFQfiTA7ZJy4dpzS4xj2Xbys1hsiYV3Hc0RFzQBckzqQYH4AiOKoyOcXKcFQAAAL6SURBVHic7Zf3Q9pAFMd5DMWIiWmNDEVA9nJVrXsCMuqqtlqtdVW79/j7e5dAkjtCSCj9qfn+lFy+yYe7e+/dw2bJkiVLloxosOf90T/7OP+iR9Yguu8Dd3/9kWtcYGWf4HRo6ZEpmKsXZDlJWJiD4nLDN8AoPpUemoWN2bGWIhSsHIKJOdmHYJJPpbEOYJghX8gw3gHg4NUwyadSX9dgWxHIJRVf92Afz1InFOzyGJiXKl/3YAPMg0ES9swOXEKJRWOwqfGQveQyDUMsmPWqfQh2qiSJpDQFm+dQfG6YhV35aZah0B/GIyOjpmC/1yMAwTLpMwJz4pGzqLmZJUfgYk9nNVqpghZk+7V6p40sY3n9cQcsmy06vf5Vh0XCVj2eJxCf9ygKKGndBREwcYcJiXlQo+sUqY3dbsKahwmtDXUEE5fRPe1ZvIHPgrSO+EMZ6Ti5jYP/WuOYyZuDXR6SAcLPwiehyYoKRtrwd1vDfEBVkCqAj3Z6Y+B++lesBuzNCgFDKTxMO59PgH2lC7AqKjIEDN3ceCjnK4BQmC6P++ZhTuh1kVV/AaBKGgMhjUDkMqZhQ2uwwZMwYQlSq4RRLOmamWFcQ3lHZv+cG8dtVkGBsZsAZDQsN9WhwAyKK1MwLB/H9PTWe5vGSb1zDKGA/muVe/o8YUcDU21YfBpiMfDvEDC2BFDSK6qoS6GLx9sgwH2bTvLXhDuTzMGIOJHGMu4KMxD5ofseCs8EMZDA2zgpt5pa8k7Cz6itwEAWV3gRFs0vOXGPWp+ttlBEubeIkbYnNe4PcRvF5jkUJWJN+hZDgTcsNo7+SusXUZKfnxAjKF/QEa/T8fAJjqvhKbmCqIzY+KIY0vHgHIunDNvTrfYNP70mS6U3y0FqsTXrwwVwm9KxXGBy/Qd3OJsOa1/Ekb1TYHw0jM9KbTjqvZmmYHCN6sVUMhd/dyBdsmEBpxeXCss9wVF6ofllXyO7ddsNTS2SP33g9qpdpuA/T0X7TPbuu1mWJUv/pf4AcFVSLx3KbYcAAAAASUVORK5CYII=",p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAAA0CAMAAABYZS1lAAABblBMVEUAAABpOhBpOA9mQA1pOhBqOBNpOhBpOxFqOg9wQBBVKgBoOhFqOhBpOhFpORCAQACAAABpOhBtSQAAAABpOhBpORFoORBjOQ5mMxpsNg9pOhBiOxRpORBpOhBrOQ9pOhBpOhBpOg9qQBVrOxJmMxFoOhBoOhBoORBnOw9oOQ5qOxBpOhBoOhBpOg9pOhFmOg9oOhBpOxBpOhBrOA5pOg9qPhJqOw1oOg5pOQ9qOhBoOBBpORFpOg9kNwtoOhFpOhFtNxJoOhBpOhBqORBpOhBsOxRpOQ9pOhBqORFpNxFoOg9oOxFqOhBpOhBpOhBpOhBpOhBpOhBVVQBpOhBpOQ9qORBoOg9mPRRoOgxpORBpOxFmOQ1nOw9nOhJpOg9tPQxpOQ9qOhFqOQ5pOxFoPBBqOhBrOhBqOg9pPA9nNw5pORBqOxFqOw9pOxFpOw9pOhBpOhBqOxBoOBFgQABqOxFdLhdpPA9oORNpOw5qORCsklCSAAAAenRSTlMA/0QU4CnJelQQBpq6iD8EAvoHAe7IYhIKIfINgb9D2YPWDCsPsH9RNEeuzpGnuSPSocI39x0nWOicIEx1FyxpDlzsb7QapWFZLsVKy3Kf243iA+VVMVMZFq2LKEU5lhV4eySqQDAfZCIlbDxXebaT1HE7CJgLERs4XuY8DycAAAN4SURBVHic7ZZnVxpBFIb3uggCIruwkV6UIkURFcUWu7H3aIwaeyyJLT3597mz7LKzgOsSo+fkhPfTbJl5Zube+84wNdVUU03/ppzmxJzzuWCtb6HF81wwZhJgvOwl52IVWVSf1tcfAevxglU9HIp9AYoaVE8AjeYqhq83qPqWquEhWMr3d2FkGw9u4W6TbKPb8bGuqK1QhY3QhsWSha7JBWUYUTsFGJEvVmkN2Dlsrw4mTc45M2H6pvrWrMA8LcqwlmKaRNbAVAWLgg1mAPpnOdK0X6++VMOCwL+WuzQB3ya3IE+NxW0FjIduXTCGO+0G6O4ja+Qhc6aCmWBjTlmwt6fQaihiRSV5jHJYBwzj7mEcSzkQ9rhzHozIpGAYsoxL7nIOQqIUK8qmpxaa4y6S32T7E8ZYbxxZEWZ3lgq9KhNsRZuxQaiTGsdEYDdRTVZvGk6iEoxhN2MAmUtuPAc2B5Uq3qDctt/CfK/YslghO0gN1HeHUb/SNFe7H4SgvDJuwQD8wDTDjC0DfJVp6JnGiOxW7lfyViktSdG98TNtIw8K0O6WYBcpnNsHZExzrV0AtxJtboMqcte8nFLYZ0BZvR5FQpDeFTuaoqYcwNR78taWvSK0Q3Ge9lXaUX6kYacAo4tPl94EQMjjkAibEABWZsWp4gZZLfipUFzE0gKdLPtujcDwqaPgMM39YiuhF2juAH4Yf3aOhHDeQpjUMmp6kWwqLlr4iQtrlzIaMQjDSlZLv/E7ZjBE0V9YzrisUckUk1bwDuHH5ER4TAwqDWsz0krnqoqbq22KVH6JUix+sh+je3FxEAwUTK3tRf3GPxgn2wd8IG9e2Ffme7Mk7SdRvaF9/14YvjvSe20hKQfZ6wut/x3+Y9u9MDzbh3WyGGYkNekRnV4UBr/imXE/DHuUvdOS3cXK5yIFO6hDZy6HjZ3Sx+uIysj0iDplKJhqkQpMfY2wWkzFI+DpYT4rfdN0ml1KSB4B6y46iErmRqqmv6N5r4hu90gYdduihfaolNko+aPry5PBmngq8/Wc1AgLDBWy6xPIJkuaNIwYMbk2qrs6j+hkzBPYstaNR+OeWpog5UKrlk5totZVHqYuNVl/CBvNGo2LaNFx+oBxmx+yLizqChqiYT62LKelKZ5sPzC6LvX5/fSdsEy+Sb/fv/S5umtBTTX9h/oNtfte1rPZY7oAAAAASUVORK5CYII=";const m=e=>((0,i.dD)("data-v-1d49d3f6"),e=e(),(0,i.Cn)(),e),_=m((()=>(0,i._)("ul",{class:"daohang"},[(0,i._)("li",null,[(0,i._)("h2",null,'"喵咪美食坊"欢迎您!')]),(0,i._)("div",{class:"cat-background"})],-1))),v={key:0,class:"login"},w={class:"input"},y=m((()=>(0,i._)("img",{src:h,alt:"账号",style:{height:"25px","vertical-align":"middle"}},null,-1))),b={class:"input"},k=m((()=>(0,i._)("img",{src:p,alt:"密码",style:{height:"25px","vertical-align":"middle"}},null,-1))),f={class:"image-buttons"},P=m((()=>(0,i._)("button",{class:"butt-1",type:"submit"},"登录",-1))),A={key:1,class:"else"},x={id:"b"},C={key:0,class:"error"};function D(e,t,s,o,l,n){const a=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[_,n.isLoggedIn?((0,i.wg)(),(0,i.iD)("div",A,[(0,i.Uk)(" 您已登录，无需再登录!!! "),(0,i.Wm)(a,{to:n.adminRoute},{default:(0,i.w5)((()=>[(0,i.Uk)("返回")])),_:1},8,["to"])])):((0,i.wg)(),(0,i.iD)("div",v,[(0,i._)("form",{onSubmit:t[2]||(t[2]=(0,r.iM)(((...e)=>n.handleLogin&&n.handleLogin(...e)),["prevent"]))},[(0,i._)("div",w,[y,(0,i.wy)((0,i._)("input",{type:"text",name:"username",placeholder:"账号","onUpdate:modelValue":t[0]||(t[0]=e=>l.credentials.username=e)},null,512),[[r.nr,l.credentials.username]])]),(0,i._)("div",b,[k,(0,i.wy)((0,i._)("input",{type:"password",name:"password",placeholder:"密码","onUpdate:modelValue":t[1]||(t[1]=e=>l.credentials.password=e)},null,512),[[r.nr,l.credentials.password]])]),(0,i.Wm)(a,{to:"/forgot-password",class:"forgot-password"},{default:(0,i.w5)((()=>[(0,i.Uk)("忘记密码?")])),_:1}),(0,i._)("div",f,[P,(0,i.Wm)(a,{to:"/choose-register",class:"butt-1"},{default:(0,i.w5)((()=>[(0,i.Uk)("注册")])),_:1}),(0,i.Wm)(a,{to:"/buyer",class:"butt-1"},{default:(0,i.w5)((()=>[(0,i.Uk)("游客访问")])),_:1})])],32)])),(0,i._)("div",x,[l.error?((0,i.wg)(),(0,i.iD)("div",C,(0,g.zw)(l.error),1)):(0,i.kq)("",!0)])],64)}s(560);var O=s(1076);O.Z.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";var I={data(){return{credentials:{username:"",password:""},error:"",mockAdminData:null,currentUser:null}},created(){this.fetchUsrFromSession()},computed:{isLoggedIn(){return!!this.currentUser},isSeller(){return this.currentUser&&1===this.currentUser.power},isBuyer(){return this.currentUser&&0===this.currentUser.power},adminRoute(){return this.isSeller?"/seller":"/buyer"}},methods:{async fetchUsrFromSession(){try{const e=await O.Z.get("/now-usr"),t=e.data;return this.currentUser=t,!0}catch(e){return console.error("获取用户数据错误:",e),!1}},async handleLogin(){try{const e={username:this.credentials.username,password:this.credentials.password},t=await fetch("/usr/login-control",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),s=await t.json();"error"===s.page?console.log(s.msg):"buyer"===s.page?this.$router.push({name:"BuyerMain"}):"seller"===s.page?this.$router.push({name:"SellerMain"}):console.log("未知页面类型")}catch(e){console.error("登录错误:",e),this.error="登录失败"}},async handleLogout(){try{await O.Z.get("/logout-control"),this.$router.push("/")}catch(e){console.error("登出失败:",e)}}}};const F=(0,n.Z)(I,[["render",D],["__scopeId","data-v-1d49d3f6"]]);var U=F;const B=e=>((0,i.dD)("data-v-6efb369a"),e=e(),(0,i.Cn)(),e),S={class:"daohang"},M={class:"title-container"},q=B((()=>(0,i._)("h2",{class:"registration-title"},"请您注册！",-1))),z={class:"login",style:{top:"53%"}},T={key:0},N={key:1},V={class:"input"},Q=B((()=>(0,i._)("label",{for:"newusername",style:{top:"-30px","font-size":"20px","font-weight":"bold"}},"用户名",-1))),L={key:0,class:"input"},K=B((()=>(0,i._)("label",{for:"newphone",style:{top:"-30px","font-size":"20px","font-weight":"bold"}},"联系电话",-1))),R={key:1,class:"input"},Y=B((()=>(0,i._)("label",{for:"newaddress",style:{top:"-30px","font-size":"20px","font-weight":"bold"}},"默认收货地址",-1))),E={class:"input"},j=B((()=>(0,i._)("label",{for:"newpwd",style:{top:"-30px","font-size":"20px","font-weight":"bold"}},"密码",-1))),H={class:"input"},Z=B((()=>(0,i._)("label",{for:"newquestion",style:{top:"-30px","font-size":"20px","font-weight":"bold"}},"设置密保问题",-1))),G={class:"input"},W=B((()=>(0,i._)("label",{for:"newanswer",style:{top:"-30px","font-size":"20px","font-weight":"bold"}},"设置答案",-1))),$={class:"image-buttons",style:{"margin-bottom":"25px"}},J=["src"];function X(e,t,o,l,n,a){const d=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("ul",S,[(0,i._)("div",M,[q,(0,i.Wm)(d,{to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("返回初始页面")])),_:1})])]),(0,i._)("div",z,[n.isSeller?((0,i.wg)(),(0,i.iD)("h2",T,"请您注册卖家账户！")):((0,i.wg)(),(0,i.iD)("h2",N,"请您注册买家账户！")),(0,i._)("form",{onSubmit:t[7]||(t[7]=(0,r.iM)(((...e)=>a.submitForm&&a.submitForm(...e)),["prevent"]))},[(0,i.wy)((0,i._)("input",{type:"hidden","onUpdate:modelValue":t[0]||(t[0]=e=>n.form.userType=e)},null,512),[[r.nr,n.form.userType]]),(0,i._)("div",V,[Q,(0,i.wy)((0,i._)("input",{id:"newusername",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>n.form.username=e),required:""},null,512),[[r.nr,n.form.username]])]),n.isSeller?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",L,[K,(0,i.wy)((0,i._)("input",{id:"newphone",type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>n.form.phone=e),required:""},null,512),[[r.nr,n.form.phone]])])),n.isSeller?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",R,[Y,(0,i.wy)((0,i._)("input",{id:"newaddress",type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>n.form.address=e),required:""},null,512),[[r.nr,n.form.address]])])),(0,i._)("div",E,[j,(0,i.wy)((0,i._)("input",{id:"newpwd",type:"password","onUpdate:modelValue":t[4]||(t[4]=e=>n.form.password=e),required:""},null,512),[[r.nr,n.form.password]])]),(0,i._)("div",H,[Z,(0,i.wy)((0,i._)("input",{id:"newquestion",type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>n.form.securityQuestion=e),required:""},null,512),[[r.nr,n.form.securityQuestion]])]),(0,i._)("div",G,[W,(0,i.wy)((0,i._)("input",{id:"newanswer",type:"text","onUpdate:modelValue":t[6]||(t[6]=e=>n.form.securityAnswer=e),required:""},null,512),[[r.nr,n.form.securityAnswer]])]),(0,i._)("div",$,[(0,i._)("input",{class:"input-image-button",type:"image",src:s(6129),alt:"登录",title:"登录",name:"action",value:"登录"},null,8,J)])],32)])])}var ee={data(){return{isSeller:!1,form:{userType:"",username:"testuser",phone:"1234567890",address:"测试地址",password:"password123",securityQuestion:"我的生日？",securityAnswer:"1月1日"}}},methods:{submitForm(){const e={success:!0,message:"注册成功"};console.log("Form submitted:",this.form),console.log("Mock Response:",e),alert("注册成功！"),e.success&&this.$router.push("/choose-register")}},created(){this.isSeller="1"===this.$route.query.registeruser}};const te=(0,n.Z)(ee,[["render",X],["__scopeId","data-v-6efb369a"]]);var se=te;const re=e=>((0,i.dD)("data-v-6b32fe48"),e=e(),(0,i.Cn)(),e),ie=re((()=>(0,i._)("ul",{class:"daohang"},[(0,i._)("div",{class:"cat-background"})],-1))),oe={class:"title-container",style:{"margin-bottom":"10000px"}},le=re((()=>(0,i._)("h2",{style:{"margin-left":"690px"}},"请您注册！",-1))),ne={class:"login"},ae=re((()=>(0,i._)("button",{class:"butt-1"},"我是买家",-1))),de=re((()=>(0,i._)("button",{class:"butt-1"},"我是卖家",-1))),ce={key:0,class:"error"};function ue(e,t,s,r,o,l){const n=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",null,[ie,(0,i._)("div",oe,[le,(0,i.Wm)(n,{to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("返回初始页面")])),_:1})]),(0,i._)("div",ne,[(0,i.Wm)(n,{to:{path:"/register",query:{registeruser:"0"}}},{default:(0,i.w5)((()=>[ae])),_:1}),(0,i.Wm)(n,{to:{path:"/register",query:{registeruser:"1"}}},{default:(0,i.w5)((()=>[de])),_:1})]),o.error?((0,i.wg)(),(0,i.iD)("div",ce,(0,g.zw)(o.error),1)):(0,i.kq)("",!0)])}var ge={data(){return{error:""}}};const he=(0,n.Z)(ge,[["render",ue],["__scopeId","data-v-6b32fe48"]]);var pe=he,me=s.p+"img/head.de11cbe0.png";const _e=e=>((0,i.dD)("data-v-56333e50"),e=e(),(0,i.Cn)(),e),ve={style:{margin:"0px"}},we={key:0},ye={class:"left"},be={class:"daohang"},ke=_e((()=>(0,i._)("img",{class:"head1",src:me,alt:""},null,-1))),fe={class:"head2"},Pe={class:"head4"},Ae={class:"head4"},xe={class:"head4"},Ce={class:"head5"},De={class:"right"},Oe=_e((()=>(0,i._)("div",{class:"centered-container"},[(0,i._)("h2",null,"欢迎来到猫咪美食坊！")],-1))),Ie={class:"centered-container"},Fe=_e((()=>(0,i._)("option",{value:"猫咪主粮"},"猫咪主粮",-1))),Ue=_e((()=>(0,i._)("option",{value:"猫咪零食"},"猫咪零食",-1))),Be=_e((()=>(0,i._)("option",{value:"猫咪日用"},"猫咪日用",-1))),Se=[Fe,Ue,Be],Me=_e((()=>(0,i._)("br",null,null,-1))),qe=_e((()=>(0,i._)("br",null,null,-1))),ze=_e((()=>(0,i._)("input",{type:"submit",value:"搜索",style:{width:"130px",cursor:"pointer"}},null,-1))),Te=_e((()=>(0,i._)("div",{id:"search_list"},null,-1))),Ne=_e((()=>(0,i._)("br",null,null,-1))),Ve={class:"goods"},Qe={class:"media-container"},Le=["src"],Ke=["src"],Re={class:"media-navigation"},Ye=["onClick"],Ee=["onClick"],je={href:"/buyer-shop"},He=_e((()=>(0,i._)("br",null,null,-1))),Ze={class:"pagination"},Ge=["disabled"],We={id:"page-info"},$e=["disabled"],Je={key:1},Xe={class:"else"},et={class:"left"},tt={class:"daohang"},st=_e((()=>(0,i._)("img",{class:"head1",src:me,alt:""},null,-1))),rt=_e((()=>(0,i._)("tr",null,[(0,i._)("td",{class:"head2"},"游客")],-1))),it=_e((()=>(0,i._)("tr",null,[(0,i._)("td",{class:"head4"},[(0,i._)("h3",{class:"head4-1"},"其他功能后登录使用")])],-1))),ot={class:"head5"},lt={class:"right"},nt=_e((()=>(0,i._)("div",{class:"centered-container"},[(0,i._)("h2",null,"欢迎来到猫咪美食坊！")],-1))),at={class:"centered-container"},dt=_e((()=>(0,i._)("option",{value:"猫咪主粮"},"猫咪主粮",-1))),ct=_e((()=>(0,i._)("option",{value:"猫咪零食"},"猫咪零食",-1))),ut=_e((()=>(0,i._)("option",{value:"猫咪日用"},"猫咪日用",-1))),gt=[dt,ct,ut],ht=_e((()=>(0,i._)("br",null,null,-1))),pt=_e((()=>(0,i._)("br",null,null,-1))),mt=_e((()=>(0,i._)("input",{type:"submit",value:"搜索",style:{width:"130px",cursor:"pointer"}},null,-1))),_t=_e((()=>(0,i._)("div",{id:"search_list"},null,-1))),vt=_e((()=>(0,i._)("br",null,null,-1))),wt={class:"goods"},yt={class:"media-container"},bt=["src"],kt=["src"],ft={class:"media-navigation"},Pt=["onClick"],At=["onClick"],xt={href:"/buyer-shop"},Ct=_e((()=>(0,i._)("br",null,null,-1))),Dt={class:"pagination"},Ot=["disabled"],It={id:"page-info"},Ft=["disabled"];function Ut(e,t,s,o,l,n){return(0,i.wg)(),(0,i.iD)("body",ve,[n.isLoggedIn?((0,i.wg)(),(0,i.iD)("div",we,[(0,i._)("div",ye,[(0,i._)("table",be,[ke,(0,i._)("tr",null,[(0,i._)("td",fe,(0,g.zw)(n.getUsername),1)]),(0,i._)("tr",null,[(0,i._)("td",Pe,[(0,i._)("h3",{onClick:t[0]||(t[0]=e=>n.navigateTo("BuyerCart")),class:"head4-1",style:{cursor:"pointer"}},"我的购物车")])]),(0,i._)("tr",null,[(0,i._)("td",Ae,[(0,i._)("h3",{onClick:t[1]||(t[1]=e=>n.navigateTo("BuyerLikes")),class:"head4-1",style:{cursor:"pointer"}},"我的收藏")])]),(0,i._)("tr",null,[(0,i._)("td",xe,[(0,i._)("h3",{onClick:t[2]||(t[2]=e=>n.navigateTo("buyerHistory")),class:"head4-1",style:{cursor:"pointer"}},"历史购买记录")])]),(0,i._)("tr",null,[(0,i._)("td",Ce,[(0,i._)("button",{onClick:t[3]||(t[3]=(...e)=>n.handleLogout&&n.handleLogout(...e)),class:"head5-1",style:{cursor:"pointer"}},"退出登录")])])])]),(0,i._)("div",De,[Oe,(0,i._)("div",Ie,[(0,i._)("form",{onSubmit:t[6]||(t[6]=(0,r.iM)(((...e)=>n.handleSearch&&n.handleSearch(...e)),["prevent"]))},[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>l.searchQuery=e),class:"custom-input",placeholder:"搜索商品"},null,512),[[r.nr,l.searchQuery]]),(0,i.Uk)("    "),(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>l.selectedCategory=e)},Se,512),[[r.bM,l.selectedCategory]]),Me,qe,(0,i.Uk)("    "),ze],32),Te]),Ne,(0,i._)("div",Ve,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.paginatedItems,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"show-1",key:e.id},[(0,i._)("div",Qe,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.mediaFiles,((e,t)=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:t},[e.isVideo?(0,i.kq)("",!0):(0,i.wy)(((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.url,alt:"商品图片"},null,8,Le)),[[r.F8,e.isActive]]),e.isVideo?(0,i.wy)(((0,i.wg)(),(0,i.iD)("video",{key:1,src:e.url,controls:""},null,8,Ke)),[[r.F8,e.isActive]]):(0,i.kq)("",!0)])),[[r.F8,e.isActive]]))),128))]),(0,i._)("div",Re,[(0,i._)("button",{onClick:t=>n.showPrevMedia(e)},"＜",8,Ye),(0,i.Uk)("         "),(0,i._)("button",{onClick:t=>n.showNextMedia(e)},"＞",8,Ee)]),(0,i._)("a",je,[(0,i._)("p",null,[(0,i.Uk)("商品名："+(0,g.zw)(e.name),1),He,(0,i.Uk)("超值价："+(0,g.zw)(e.price)+"元",1)])])])))),128))]),(0,i._)("div",Ze,[(0,i._)("button",{onClick:t[7]||(t[7]=(...e)=>n.goToPrevPage&&n.goToPrevPage(...e)),class:"prev",disabled:1===l.currentPage},"上一页",8,Ge),(0,i._)("span",We,"第 "+(0,g.zw)(l.currentPage)+" / "+(0,g.zw)(n.totalPages)+" 页",1),(0,i._)("button",{onClick:t[8]||(t[8]=(...e)=>n.goToNextPage&&n.goToNextPage(...e)),class:"next",disabled:l.currentPage===n.totalPages},"下一页",8,$e)])])])):((0,i.wg)(),(0,i.iD)("div",Je,[(0,i._)("div",Xe,[(0,i._)("div",et,[(0,i._)("table",tt,[st,rt,it,(0,i._)("tr",null,[(0,i._)("td",ot,[(0,i._)("button",{onClick:t[9]||(t[9]=(...e)=>n.handleLogout&&n.handleLogout(...e)),class:"head5-1",style:{cursor:"pointer"}},"返回登录")])])])]),(0,i._)("div",lt,[nt,(0,i._)("div",at,[(0,i._)("form",{onSubmit:t[12]||(t[12]=(0,r.iM)(((...e)=>n.handleSearch&&n.handleSearch(...e)),["prevent"]))},[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=e=>l.searchQuery=e),class:"custom-input",placeholder:"搜索商品"},null,512),[[r.nr,l.searchQuery]]),(0,i.Uk)("    "),(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[11]||(t[11]=e=>l.selectedCategory=e)},gt,512),[[r.bM,l.selectedCategory]]),ht,pt,(0,i.Uk)("    "),mt],32),_t]),vt,(0,i._)("div",wt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.paginatedItems,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"show-1",key:e.id},[(0,i._)("div",yt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.mediaFiles,((e,t)=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:t},[e.isVideo?(0,i.kq)("",!0):(0,i.wy)(((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.url,alt:"商品图片"},null,8,bt)),[[r.F8,e.isActive]]),e.isVideo?(0,i.wy)(((0,i.wg)(),(0,i.iD)("video",{key:1,src:e.url,controls:""},null,8,kt)),[[r.F8,e.isActive]]):(0,i.kq)("",!0)])),[[r.F8,e.isActive]]))),128))]),(0,i._)("div",ft,[(0,i._)("button",{onClick:t=>n.showPrevMedia(e)},"＜",8,Pt),(0,i.Uk)("         "),(0,i._)("button",{onClick:t=>n.showNextMedia(e)},"＞",8,At)]),(0,i._)("a",xt,[(0,i._)("p",null,[(0,i.Uk)("商品名："+(0,g.zw)(e.name),1),Ct,(0,i.Uk)("超值价："+(0,g.zw)(e.price)+"元",1)])])])))),128))]),(0,i._)("div",Dt,[(0,i._)("button",{onClick:t[13]||(t[13]=(...e)=>n.goToPrevPage&&n.goToPrevPage(...e)),class:"prev",disabled:1===l.currentPage},"上一页",8,Ot),(0,i._)("span",It,"第 "+(0,g.zw)(l.currentPage)+" / "+(0,g.zw)(n.totalPages)+" 页",1),(0,i._)("button",{onClick:t[14]||(t[14]=(...e)=>n.goToNextPage&&n.goToNextPage(...e)),class:"next",disabled:l.currentPage===n.totalPages},"下一页",8,Ft)])])])]))])}var Bt={data(){return{items:[{id:1,name:"猫咪粮食",price:"99",description:"高营养猫粮",kind:"猫咪主粮",mediaFiles:[{url:s(7112),isActive:!0,isVideo:!1},{url:s(453),isActive:!1,isVideo:!1}]},{id:2,name:"猫咪玩具",price:"49",description:"好玩的猫咪玩具",kind:"猫咪日用",mediaFiles:[{url:s(453),isActive:!0,isVideo:!1},{url:s(7112),isActive:!1,isVideo:!1}]},{id:3,name:"猫咪窝",price:"299",description:"舒适的猫咪小窝",kind:"猫咪主粮",mediaFiles:[{url:s(7112),isActive:!0,isVideo:!1},{url:s(453),isActive:!1,isVideo:!1}]}],searchQuery:"",selectedCategory:"猫咪主粮",filteredItems:[],currentPage:1,itemsPerPage:2,search:{keyword:"",kind:"猫咪主粮"},currentUser:null}},created(){this.fetchUsrFromSession()},computed:{isLoggedIn(){return!!this.currentUser},isSeller(){return this.currentUser&&1===this.currentUser.power},isBuyer(){return this.currentUser&&0===this.currentUser.power},getUsername(){return this.currentUser?this.currentUser.username:"未登录"},paginatedItems(){const e=(this.currentPage-1)*this.itemsPerPage,t=this.currentPage*this.itemsPerPage;return this.filteredItems.slice(e,t)},totalPages(){return Math.ceil(this.filteredItems.length/this.itemsPerPage)}},methods:{async fetchUsrFromSession(){try{const e=await O.Z.get("/now-usr"),t=e.data;return this.currentUser=t,!0}catch(e){return console.error("获取用户数据错误:",e),!1}},async handleLogout(){try{await O.Z.get("/logout-control"),this.$router.push("/")}catch(e){console.error("登出失败:",e)}},navigateTo(e){this.$router.push({name:e})},beforeMount(){this.isLoggedIn||this.$router.push("/")},handleSearch(){this.filteredItems=this.items.filter((e=>{const t=!this.searchQuery||e.name.toLowerCase().includes(this.searchQuery.toLowerCase()),s=!this.selectedCategory||e.kind===this.selectedCategory;return console.log(`Item: ${e.name}, Keyword Match: ${t}, Category Match: ${s}`),t&&s})),console.log("Filtered items count:",this.filteredItems.length)},showPrevMedia(e){const t=e.mediaFiles.findIndex((e=>e.isActive));if(console.log("Current active index:",t),t>=0){const s=(t-1+e.mediaFiles.length)%e.mediaFiles.length;console.log("Previous index:",s),this.setActiveMedia(e,s)}},showNextMedia(e){const t=e.mediaFiles.findIndex((e=>e.isActive));if(console.log("Current active index:",t),t>=0){const s=(t+1)%e.mediaFiles.length;console.log("Next index:",s),this.setActiveMedia(e,s)}},setActiveMedia(e,t){e.mediaFiles.forEach(((e,s)=>{e.isActive=s===t,console.log(`Media at index ${s} active status: `,e.isActive)}))},goToPrevPage(){this.currentPage>1&&(this.currentPage--,console.log("Current page after prev:",this.currentPage))},goToNextPage(){this.currentPage<this.totalPages&&(this.currentPage++,console.log("Current page after next:",this.currentPage))},resetPage(){this.currentPage=1}},watch:{filteredItems(e,t){e!==t&&this.resetPage()}},mounted(){this.filteredItems=this.items}};const St=(0,n.Z)(Bt,[["render",Ut],["__scopeId","data-v-56333e50"]]);var Mt=St,qt=s.p+"img/catbackground.0962f6ee.png",zt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQUAAAABAQMAAADtvilwAAAAA1BMVEX/8uHoZVjmAAAACklEQVR4nGMgCAAAIgAB2LoVhQAAAABJRU5ErkJggg==";const Tt=e=>((0,i.dD)("data-v-30daab09"),e=e(),(0,i.Cn)(),e),Nt={key:0},Vt={class:"daohang"},Qt=Tt((()=>(0,i._)("li",null,[(0,i._)("b",null,'欢迎进入"喵咪美食坊"!')],-1))),Lt={class:"content"},Kt={class:"content-left"},Rt={class:"nav"},Yt={class:"nav-menu"},Et={class:"nav-info"},jt=Tt((()=>(0,i._)("div",{class:"user-image",style:{left:"-40px"}},[(0,i._)("img",{src:qt,alt:"用户头像",style:{width:"50px",height:"50px",left:"8.9%",position:"absolute"}})],-1))),Ht={class:"username",style:{"margin-right":"100px"}},Zt=Tt((()=>(0,i._)("img",{src:zt,alt:"分割线",class:"separator-line"},null,-1))),Gt={class:"nav-content"},Wt={class:"my"},$t={key:1},Jt=Tt((()=>(0,i._)("div",{class:"else"},[(0,i.Uk)(" 您还未登录，请先"),(0,i._)("a",{href:"/"},"登录")],-1))),Xt=[Jt];function es(e,t,s,r,o,l){const n=(0,i.up)("router-view");return l.isLoggedIn?((0,i.wg)(),(0,i.iD)("div",Nt,[(0,i._)("ul",Vt,[Qt,(0,i._)("li",{style:{float:"right"},onClick:t[0]||(t[0]=(...e)=>l.handleLogout&&l.handleLogout(...e)),class:"logout-button"},"退出登录")]),(0,i._)("div",Lt,[(0,i._)("div",Kt,[(0,i._)("div",Rt,[(0,i._)("div",Yt,[(0,i._)("div",Et,[jt,(0,i._)("div",Ht,(0,g.zw)(e.username),1),Zt]),(0,i._)("div",Gt,[(0,i._)("h3",{onClick:t[1]||(t[1]=e=>l.navigateTo("UpdatePassword")),class:"black-text",style:{cursor:"pointer"}},"修改密码"),(0,i._)("h3",{onClick:t[2]||(t[2]=e=>l.navigateTo("PublishGoods")),class:"black-text",style:{cursor:"pointer"}},"发布商品"),(0,i._)("h3",{onClick:t[3]||(t[3]=e=>l.navigateTo("ShowUserInfo")),class:"black-text",style:{cursor:"pointer"}},"查看意向订单"),(0,i._)("h3",{onClick:t[4]||(t[4]=e=>l.navigateTo("UploadMultipleGoods")),class:"black-text",style:{cursor:"pointer"}},"发布多个商品"),(0,i._)("h3",{onClick:t[5]||(t[5]=e=>l.navigateTo("ShowHistoryGoods")),class:"black-text",style:{cursor:"pointer"}},"查看历史商品"),(0,i._)("h3",{onClick:t[6]||(t[6]=e=>l.navigateTo("ShowGoods")),class:"black-text",style:{cursor:"pointer"}},"查看全部商品"),(0,i._)("h3",{onClick:t[7]||(t[7]=e=>l.navigateTo("ShowAllUsers")),class:"black-text",style:{cursor:"pointer"}},"查看客户信息")])])])]),(0,i._)("div",null,[(0,i._)("div",Wt,[(0,i.Wm)(n)])])])])):((0,i.wg)(),(0,i.iD)("div",$t,Xt))}var ts={data(){return{currentUser:null}},created(){this.fetchUsrFromSession()},computed:{isLoggedIn(){return!!this.currentUser},isSeller(){return this.currentUser&&1===this.currentUser.power},isBuyer(){return this.currentUser&&0===this.currentUser.power},getUsername(){return this.currentUser?this.currentUser.username:"未登录"}},methods:{async fetchUsrFromSession(){try{const e=await O.Z.get("/now-usr"),t=e.data;return this.currentUser=t,this.isLoggedIn&&this.isSeller||this.$router.push("/"),!0}catch(e){return console.error("获取用户数据错误:",e),!1}},async handleLogout(){try{await O.Z.get("/logout-control"),this.$router.push("/")}catch(e){console.error("登出失败:",e)}},navigateTo(e){this.$router.push({name:e})}},beforeMount(){},mounted(){console.log("SellerMain 组件已挂载")}};const ss=(0,n.Z)(ts,[["render",es],["__scopeId","data-v-30daab09"]]);var rs=ss;const is=e=>((0,i.dD)("data-v-6850e6f0"),e=e(),(0,i.Cn)(),e),os={key:0},ls=is((()=>(0,i._)("div",{style:{"text-align":"center","margin-bottom":"0px","margin-top":"10px"}},[(0,i._)("img",{src:qt,alt:"小猫",style:{width:"200px",height:"200px"}})],-1))),ns={class:"main"},as=is((()=>(0,i._)("h1",null,"修改密码",-1))),ds={class:"text-center"},cs=is((()=>(0,i._)("span",null,"旧 密 码: ",-1))),us=is((()=>(0,i._)("br",null,null,-1))),gs={class:"text-center"},hs=is((()=>(0,i._)("span",null,"新 密 码: ",-1))),ps=is((()=>(0,i._)("br",null,null,-1))),ms={class:"text-center"},_s=is((()=>(0,i._)("span",null,"确认密码: ",-1))),vs=is((()=>(0,i._)("br",null,null,-1))),ws={class:"text-center"},ys=is((()=>(0,i._)("input",{type:"submit",class:"button",value:"确认修改"},null,-1))),bs={key:0,class:"alert-message",id:"b"},ks={key:1,class:"alert-error",id:"b"},fs={key:1,class:"else"},Ps=is((()=>(0,i._)("span",null,[(0,i.Uk)("您还未登录，请先"),(0,i._)("a",{href:"index.jsp"},"登录")],-1))),As=[Ps];function xs(e,t,s,o,l,n){return l.isLoggedIn?((0,i.wg)(),(0,i.iD)("div",os,[ls,(0,i._)("div",ns,[(0,i._)("form",{onSubmit:t[6]||(t[6]=(0,r.iM)(((...e)=>n.submitForm&&n.submitForm(...e)),["prevent"]))},[(0,i.wy)((0,i._)("input",{type:"hidden","onUpdate:modelValue":t[0]||(t[0]=e=>l.username=e)},null,512),[[r.nr,l.username]]),(0,i.wy)((0,i._)("input",{type:"hidden","onUpdate:modelValue":t[1]||(t[1]=e=>l.userpwd=e)},null,512),[[r.nr,l.userpwd]]),as,(0,i._)("div",ds,[cs,(0,i.wy)((0,i._)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>l.oldpwd=e),required:""},null,512),[[r.nr,l.oldpwd]])]),us,(0,i._)("div",gs,[hs,(0,i.wy)((0,i._)("input",{type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>l.newpwd=e),required:""},null,512),[[r.nr,l.newpwd]])]),ps,(0,i._)("div",ms,[_s,(0,i.wy)((0,i._)("input",{type:"password","onUpdate:modelValue":t[4]||(t[4]=e=>l.newpwd1=e),required:""},null,512),[[r.nr,l.newpwd1]])]),vs,(0,i._)("div",ws,[ys,(0,i.Uk)("         "),(0,i._)("button",{onClick:t[5]||(t[5]=(...e)=>n.cancelUpdate&&n.cancelUpdate(...e)),class:"button"},"取消修改")])],32)]),l.message?((0,i.wg)(),(0,i.iD)("div",bs,[(0,i._)("p",null,(0,g.zw)(l.message),1)])):(0,i.kq)("",!0),l.error?((0,i.wg)(),(0,i.iD)("div",ks,[(0,i._)("p",null,(0,g.zw)(l.error),1)])):(0,i.kq)("",!0)])):((0,i.wg)(),(0,i.iD)("div",fs,As))}var Cs={data(){return{isLoggedIn:!0,username:"seller",userpwd:"123",oldpwd:"123",newpwd:"",newpwd1:"",message:null,error:null}},methods:{validateForm(){return this.newpwd.length>15?(alert("密码不能超过15个字符！"),!1):this.oldpwd!==this.userpwd?(this.error="旧密码错误",!1):this.oldpwd===this.newpwd?(this.error="新密码与旧密码一致",!1):this.newpwd!==this.newpwd1?(this.error="新密码与确认密码不一致",!1):(this.error=null,!0)},async submitForm(){const e=this.validateForm();if(e)try{this.message="密码修改成功！",this.error=null}catch(t){this.error="密码修改失败，请稍后再试。"}},cancelUpdate(){this.oldpwd="",this.newpwd="",this.newpwd1="",this.error=null,this.message=null}}};const Ds=(0,n.Z)(Cs,[["render",xs],["__scopeId","data-v-6850e6f0"]]);var Os=Ds;const Is=e=>((0,i.dD)("data-v-16266a42"),e=e(),(0,i.Cn)(),e),Fs={key:0},Us={class:"main"},Bs=Is((()=>(0,i._)("h1",null,"请发布商品",-1))),Ss={class:"container"},Ms={class:"left-div",style:{height:"300px"}},qs={id:"preview"},zs={key:0},Ts=["src"],Ns=["src"],Vs=["onClick"],Qs={key:1},Ls=Is((()=>(0,i._)("br",null,null,-1))),Ks=["disabled"],Rs={class:"right-div"},Ys={class:"form-group"},Es=Is((()=>(0,i._)("label",{for:"kind"},"商品大类：",-1))),js=["value"],Hs=Is((()=>(0,i._)("br",null,null,-1))),Zs=Is((()=>(0,i._)("br",null,null,-1))),Gs={class:"form-group"},Ws=Is((()=>(0,i._)("label",{for:"subkind"},"商品子类：",-1))),$s=["value"],Js=Is((()=>(0,i._)("br",null,null,-1))),Xs=Is((()=>(0,i._)("br",null,null,-1))),er={class:"form-group"},tr=Is((()=>(0,i._)("label",{for:"goodName"},"商品名称：",-1))),sr=Is((()=>(0,i._)("br",null,null,-1))),rr=Is((()=>(0,i._)("br",null,null,-1))),ir={key:0,class:"error"},or={class:"form-group"},lr=Is((()=>(0,i._)("label",{for:"price"},"商品价格：",-1))),nr=Is((()=>(0,i._)("br",null,null,-1))),ar=Is((()=>(0,i._)("br",null,null,-1))),dr={key:0,class:"error"},cr={class:"form-group"},ur=Is((()=>(0,i._)("label",{for:"stock"},"商品库存：",-1))),gr=Is((()=>(0,i._)("br",null,null,-1))),hr=Is((()=>(0,i._)("br",null,null,-1))),pr={key:0,class:"error"},mr={class:"form-group"},_r=Is((()=>(0,i._)("label",{for:"description"},"商品描述：",-1))),vr=Is((()=>(0,i._)("br",null,null,-1))),wr=Is((()=>(0,i._)("br",null,null,-1))),yr={key:0,class:"error"},br=Is((()=>(0,i._)("div",{class:"form-group"},[(0,i._)("button",{type:"submit",class:"submit-button-container"},"确认发布")],-1))),kr={key:1,class:"else"},fr=Is((()=>(0,i._)("a",{href:"login"},"登录",-1)));function Pr(e,t,s,o,l,n){return l.isLoggedIn?((0,i.wg)(),(0,i.iD)("div",Fs,[(0,i._)("div",Us,[Bs,(0,i._)("form",{onSubmit:t[12]||(t[12]=(0,r.iM)(((...e)=>n.submitForm&&n.submitForm(...e)),["prevent"]))},[(0,i._)("div",Ss,[(0,i._)("div",Ms,[(0,i._)("button",{type:"button",onClick:t[0]||(t[0]=(...e)=>n.goBack&&n.goBack(...e))},"返回"),(0,i._)("div",qs,[l.selectedFiles.length>0?((0,i.wg)(),(0,i.iD)("div",zs,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.selectedFiles,((e,t)=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:t},[e.isImage?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.url,alt:"预览图"},null,8,Ts)):((0,i.wg)(),(0,i.iD)("video",{key:1,controls:"",src:e.url},null,8,Ns)),(0,i._)("button",{onClick:e=>n.removeFile(t)},"X",8,Vs)])),[[r.F8,t===l.currentPreviewIndex]]))),128))])):((0,i.wg)(),(0,i.iD)("div",Qs," 没有选择文件 "))]),(0,i._)("button",{type:"button",onClick:t[1]||(t[1]=(...e)=>n.prevImage&&n.prevImage(...e))},"＜"),(0,i.Uk)("  "),(0,i._)("button",{type:"button",onClick:t[2]||(t[2]=(...e)=>n.nextImage&&n.nextImage(...e))},"＞"),Ls,(0,i._)("input",{type:"file",disabled:n.isFileInputDisabled,ref:"fileInput",onChange:t[3]||(t[3]=(...e)=>n.handleFileChange&&n.handleFileChange(...e)),accept:"image/png, image/jpeg, video/mp4",multiple:"",style:{display:"none"}},null,40,Ks),(0,i._)("button",{type:"button",onClick:t[4]||(t[4]=(...e)=>n.triggerFileInput&&n.triggerFileInput(...e))},"上传图片/视频")]),(0,i._)("div",Rs,[(0,i._)("div",Ys,[Es,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>l.selectedKind=e),onChange:t[6]||(t[6]=(...e)=>n.updateSubcategories&&n.updateSubcategories(...e))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.kinds,(e=>((0,i.wg)(),(0,i.iD)("option",{key:e.value,value:e.value},(0,g.zw)(e.text),9,js)))),128))],544),[[r.bM,l.selectedKind]]),Hs,Zs]),(0,i._)("div",Gs,[Ws,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>l.selectedSubkind=e)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.subkinds,(e=>((0,i.wg)(),(0,i.iD)("option",{key:e,value:e},(0,g.zw)(e),9,$s)))),128))],512),[[r.bM,l.selectedSubkind]]),Js,Xs]),(0,i._)("div",er,[tr,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=e=>l.goodName=e),placeholder:"请输入商品名称",required:""},null,512),[[r.nr,l.goodName]]),sr,rr,l.errors.goodName?((0,i.wg)(),(0,i.iD)("span",ir,(0,g.zw)(l.errors.goodName),1)):(0,i.kq)("",!0)]),(0,i._)("div",or,[lr,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=e=>l.price=e),placeholder:"请输入商品价格",required:""},null,512),[[r.nr,l.price]]),nr,ar,l.errors.price?((0,i.wg)(),(0,i.iD)("span",dr,(0,g.zw)(l.errors.price),1)):(0,i.kq)("",!0)]),(0,i._)("div",cr,[ur,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=e=>l.stock=e),placeholder:"请输入商品库存",required:""},null,512),[[r.nr,l.stock]]),gr,hr,l.errors.stock?((0,i.wg)(),(0,i.iD)("span",pr,(0,g.zw)(l.errors.stock),1)):(0,i.kq)("",!0)]),(0,i._)("div",mr,[_r,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=e=>l.description=e),placeholder:"请输入商品描述",required:""},null,512),[[r.nr,l.description]]),vr,wr,l.errors.description?((0,i.wg)(),(0,i.iD)("span",yr,(0,g.zw)(l.errors.description),1)):(0,i.kq)("",!0)]),br])])],32)])])):((0,i.wg)(),(0,i.iD)("div",kr,[(0,i.Uk)(" 您还未登录，请先"),fr]))}s(8858),s(1318),s(3228);var Ar={data(){return{products:[],isLoggedIn:!0,goodName:"",price:"",stock:"",description:"",selectedFiles:[],selectedKind:"猫咪主粮",selectedSubkind:"",currentPreviewIndex:0,kinds:[{value:"猫咪主粮",text:"猫咪主粮"},{value:"猫咪零食",text:"猫咪零食"},{value:"猫咪日用",text:"猫咪日用"}],subkinds:[],errors:{goodName:null,price:null,stock:null,description:null}}},methods:{updateSubcategories(){"猫咪主粮"===this.selectedKind?this.subkinds=["猫干粮","猫湿粮"]:"猫咪零食"===this.selectedKind?this.subkinds=["饼干","罐头","猫条"]:"猫咪日用"===this.selectedKind&&(this.subkinds=["猫砂盆","猫小窝","猫沙发","清洁除味"]),this.subkinds.length>0?this.selectedSubkind=this.subkinds[0]:this.selectedSubkind=""},submitForm(){if(this.goodName.length>20)return void alert("商品名称不能超过20个字符");if(isNaN(this.price))return void alert("价格需要输入数字");if(isNaN(this.stock))return void(this.errors.stock="库存需要输入数字");if(this.description.length>100)return void alert("商品描述不能超过100个字符");if(0===this.selectedFiles.length)return void alert("请上传至少一个文件");const e={name:this.goodName,price:this.price,stock:this.stock,description:this.description,kind:this.selectedKind,subkind:this.selectedSubkind};this.products.push(e),alert("商品已添加")},isImage(e){return!(e&&e.type)||e&&e.type&&e.type.startsWith("image/")},handleFileChange(e){const t=Array.from(e.target.files),s=["image/png","image/jpeg","video/mp4"],r=t.filter((e=>s.includes(e.type)));if(r.length<t.length)return void alert("不支持的文件格式。请上传png、jpg或mp4格式的文件。");const i=3-this.selectedFiles.length,o=r.slice(0,i),l=3,n=10485760;if(t.length>l)return void alert(`您只能上传最多 ${l} 个文件。`);const a=t.some((e=>e.size>n));if(a)return void alert("所有文件必须小于10MB，请重新选择文件。");if(this.selectedFiles.length+o.length>3)return void alert("最多只能上传3个文件。");const d=r.map((e=>({...e,url:URL.createObjectURL(e),isImage:e.type.startsWith("image/")})));this.selectedFiles=[...this.selectedFiles,...d],3===this.selectedFiles.length?e.target.disabled=!0:(e.target.disabled=!1,e.target.value=""),this.$refs.fileInput&&(this.$refs.fileInput.value=""),this.selectedFiles.length<3&&(e.target.disabled=!1)},goBack(){this.$router.go(-1)},removeFile(e){URL.revokeObjectURL(this.selectedFiles[e].url),this.selectedFiles.splice(e,1),this.selectedFiles.length<3&&this.$refs.fileInput&&(this.$refs.fileInput.disabled=!1),this.$refs.fileInput&&(this.$refs.fileInput.value="")},triggerFileInput(){this.$refs.fileInput?this.$refs.fileInput.click():console.error("未找到文件输入框。")},prevImage(){this.selectedFiles.length>0&&(this.currentPreviewIndex=(this.currentPreviewIndex-1+this.selectedFiles.length)%this.selectedFiles.length)},nextImage(){this.selectedFiles.length>0&&(this.currentPreviewIndex=(this.currentPreviewIndex+1)%this.selectedFiles.length)}},mounted(){this.updateSubcategories()},computed:{currentFile(){return this.selectedFiles[this.currentPreviewIndex]},isFileInputDisabled(){return this.selectedFiles.length>=3}}};const xr=(0,n.Z)(Ar,[["render",Pr],["__scopeId","data-v-16266a42"]]);var Cr=xr;const Dr=e=>((0,i.dD)("data-v-c3a87968"),e=e(),(0,i.Cn)(),e),Or={key:0},Ir={key:0,class:"modal",style:{position:"fixed","z-index":"1",left:"0",top:"0",width:"100%",height:"100%",overflow:"auto","background-color":"rgba(0,0,0,0.4)"}},Fr=["src"],Ur=["src"],Br={id:"a"},Sr={class:"container"},Mr=Dr((()=>(0,i._)("div",{class:"centered-container"},[(0,i._)("h2",null,"全部商品信息"),(0,i._)("br")],-1))),qr={class:"centered-container"},zr={class:"search-bar"},Tr=Dr((()=>(0,i._)("option",{value:"猫咪主粮"},"猫咪主粮",-1))),Nr=Dr((()=>(0,i._)("option",{value:"猫咪零食"},"猫咪零食",-1))),Vr=Dr((()=>(0,i._)("option",{value:"猫咪日用"},"猫咪日用",-1))),Qr=[Tr,Nr,Vr],Lr={border:"1px",align:"center",cellspacing:"0"},Kr=Dr((()=>(0,i._)("tr",null,[(0,i._)("th",null,"ID"),(0,i._)("th",null,"名称"),(0,i._)("th",null,"描述"),(0,i._)("th",null,"库存"),(0,i._)("th",null,"单价"),(0,i._)("th",null,"展示内容"),(0,i._)("th",null,"状态"),(0,i._)("th",null,"操作")],-1))),Rr={class:"media-container"},Yr=["src"],Er=["src"],jr={class:"media-navigation"},Hr=["onClick"],Zr=["onClick"],Gr=["onClick"],Wr=["onClick"],$r={class:"pagination"},Jr=["disabled"],Xr={id:"page-info"},ei=["disabled"],ti={key:1,class:"else"};function si(e,t,s,o,l,n){const a=(0,i.up)("PriceModal"),d=(0,i.up)("router-link");return l.isLoggedIn?((0,i.wg)(),(0,i.iD)("div",Or,[l.showModal?((0,i.wg)(),(0,i.iD)("div",Ir,[(0,i._)("span",{class:"close-button",onClick:t[0]||(t[0]=(...t)=>e.closeModal&&e.closeModal(...t)),style:{position:"absolute",top:"20px",right:"30px",color:"#f1f1f1","font-size":"35px","font-weight":"bold",cursor:"pointer"}},"×"),"image"===e.modalContentType?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.modalContentSrc,style:{margin:"auto",display:"none",width:"80%","max-width":"700px"}},null,8,Fr)):(0,i.kq)("",!0),"video"===e.modalContentType?((0,i.wg)(),(0,i.iD)("video",{key:1,src:e.modalContentSrc,controls:"",style:{margin:"auto",display:"none",width:"80%","max-width":"700px"}},null,8,Ur)):(0,i.kq)("",!0)])):(0,i.kq)("",!0),(0,i._)("div",Br,[(0,i._)("div",Sr,[Mr,(0,i._)("div",qr,[(0,i._)("div",zr,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>l.searchQuery=e),class:"custom-input",placeholder:"搜索商品"},null,512),[[r.nr,l.searchQuery]]),(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.selectedCategory=e),id:"search_kind"},Qr,512),[[r.bM,l.selectedCategory]]),(0,i._)("button",{onClick:t[3]||(t[3]=(...e)=>n.searchGoods&&n.searchGoods(...e)),style:{width:"130px"},class:"custom-button"},"搜索")])]),(0,i._)("table",Lr,[Kr,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.paginatedGoods,(e=>((0,i.wg)(),(0,i.iD)("tr",{key:e.goodid},[(0,i._)("td",null,(0,g.zw)(e.goodid),1),(0,i._)("td",null,(0,g.zw)(e.goodname),1),(0,i._)("td",null,(0,g.zw)(e.description),1),(0,i._)("td",{class:(0,g.C_)({"low-stock":e.number<5})},(0,g.zw)(e.number),3),(0,i._)("td",null,(0,g.zw)(e.price),1),(0,i._)("td",null,[(0,i._)("div",Rr,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.mediaFiles,((e,t)=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:t},[n.isVideo(e)?(0,i.kq)("",!0):(0,i.wy)(((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.url,alt:"商品图片"},null,8,Yr)),[[r.F8,e.isActive]]),n.isVideo(e)?(0,i.wy)(((0,i.wg)(),(0,i.iD)("video",{key:1,src:e.url,controls:""},null,8,Er)),[[r.F8,e.isActive]]):(0,i.kq)("",!0)])),[[r.F8,e.isActive]]))),128))]),(0,i._)("div",jr,[(0,i._)("button",{onClick:t=>n.showPrevMedia(e)},"＜",8,Hr),(0,i.Uk)("         "),(0,i._)("button",{onClick:t=>n.showNextMedia(e)},"＞",8,Zr)])]),(0,i._)("td",null,(0,g.zw)(n.stateText(e.state)),1),(0,i._)("td",null,[(0,i._)("button",{onClick:t=>n.confirmDelete(e.goodid)},"下架",8,Gr),(0,i.Uk)(" | "),(0,i._)("button",{onClick:t=>n.openPriceModal(e)},"修改价格",8,Wr)])])))),128))]),(0,i._)("div",$r,[(0,i._)("button",{onClick:t[4]||(t[4]=(...e)=>n.goToPrevPage&&n.goToPrevPage(...e)),class:"prev",disabled:1===l.currentPage},"上一页",8,Jr),(0,i._)("span",Xr,"第 "+(0,g.zw)(l.currentPage)+" / "+(0,g.zw)(n.totalPages)+" 页",1),(0,i._)("button",{onClick:t[5]||(t[5]=(...e)=>n.goToNextPage&&n.goToNextPage(...e)),class:"next",disabled:l.currentPage===n.totalPages},"下一页",8,ei)]),(0,i.Wm)(a,{good:l.selectedGood,isVisible:l.showPriceModal,onClose:t[6]||(t[6]=e=>l.showPriceModal=!1),onUpdate:n.handleUpdatePrice},null,8,["good","isVisible","onUpdate"])])])])):((0,i.wg)(),(0,i.iD)("div",ti,[(0,i._)("span",null,[(0,i.Uk)("您还未登录，请先 "),(0,i.Wm)(d,{to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("登录")])),_:1})])]))}const ri=e=>((0,i.dD)("data-v-bf176ba0"),e=e(),(0,i.Cn)(),e),ii={key:0,class:"modal"},oi={class:"modal-content price-modal-content"},li=ri((()=>(0,i._)("h2",null,[(0,i._)("strong",null,"修改商品价格")],-1))),ni={class:"product-info"},ai=ri((()=>(0,i._)("strong",null,"商品ID:",-1))),di=ri((()=>(0,i._)("strong",null,"商品名称:",-1))),ci=ri((()=>(0,i._)("strong",null,"原价格:",-1))),ui=ri((()=>(0,i._)("label",{for:"newPrice"},[(0,i._)("strong",null,"修改后价格:")],-1)));function gi(e,t,s,o,l,n){return s.isVisible?((0,i.wg)(),(0,i.iD)("div",ii,[(0,i._)("div",oi,[(0,i._)("span",{class:"close",onClick:t[0]||(t[0]=(...e)=>n.closeModal&&n.closeModal(...e))},"×"),li,(0,i._)("div",ni,[(0,i._)("p",null,[ai,(0,i.Uk)(" "+(0,g.zw)(s.good.goodid),1)]),(0,i._)("p",null,[di,(0,i.Uk)(" "+(0,g.zw)(s.good.goodname),1)]),(0,i._)("p",null,[ci,(0,i.Uk)(" "+(0,g.zw)(s.good.price),1)])]),(0,i._)("div",null,[ui,(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=e=>l.newPrice=e),placeholder:"输入新价格"},null,512),[[r.nr,l.newPrice]])]),(0,i._)("button",{onClick:t[2]||(t[2]=(...e)=>n.updatePrice&&n.updatePrice(...e))},"确认修改")])])):(0,i.kq)("",!0)}var hi={props:{good:Object,isVisible:Boolean},data(){return{newPrice:""}},methods:{closeModal(){this.$emit("close")},updatePrice(){this.$emit("update",{goodId:this.good.goodid,newPrice:this.newPrice})}}};const pi=(0,n.Z)(hi,[["render",gi],["__scopeId","data-v-bf176ba0"]]);var mi=pi,_i={components:{PriceModal:mi},data(){return{isLoggedIn:!0,searchQuery:"",showPriceModal:!1,selectedGood:null,showModal:!1,selectedCategory:"猫咪主粮",currentPage:1,pageSize:1,filteredGoods:[],isHistory:"0",showSuccessMessage:!1,successMessage:"",goods:[{goodid:1,goodname:"猫粮",description:"营养全面",number:10,price:100,state:0,kind:"猫咪主粮",mediaFiles:[{url:s(7112),isActive:!0},{url:s(453),isActive:!1}]},{goodid:2,goodname:"猫砂",description:"吸水性强",number:20,price:50,state:0,kind:"猫咪日用",mediaFiles:[{url:s(453),isActive:!0},{url:s(7112),isActive:!1}]}]}},methods:{showPrevMedia(e){const t=e.mediaFiles.findIndex((e=>e.isActive));if(console.log("Current active index:",t),t>=0){const s=(t-1+e.mediaFiles.length)%e.mediaFiles.length;console.log("Previous index:",s),this.setActiveMedia(e,s)}},showNextMedia(e){const t=e.mediaFiles.findIndex((e=>e.isActive));if(console.log("Current active index:",t),t>=0){const s=(t+1)%e.mediaFiles.length;console.log("Next index:",s),this.setActiveMedia(e,s)}},setActiveMedia(e,t){e.mediaFiles.forEach(((e,s)=>{e.isActive=s===t,console.log(`Media at index ${s} active status: `,e.isActive)}))},isVideo(e){const t=e.url.endsWith(".mp4");return console.log(`Is media a video: ${t}`),t},showSuccessModal(e){this.successMessage=e,this.showSuccessMessage=!0},searchGoods(){console.log("搜索已执行"),this.filteredGoods=this.goods.filter((e=>{const t=!this.searchQuery||e.goodname.toLowerCase().includes(this.searchQuery.toLowerCase()),s=!this.selectedCategory||e.kind===this.selectedCategory;return this.resetPage(),t&&s}))},closeSuccessModal(){this.showSuccessMessage=!1},confirmDelete(e){confirm("确定要删除这个商品吗？")&&this.deleteGood(e)},deleteGood(e){console.log("删除商品，商品ID:",e),this.filteredGoods=this.filteredGoods.filter((t=>t.goodid!==e)),alert("商品删除成功")},openPriceModal(e){console.log("打开价格修改窗口!"),this.selectedGood=e,this.showPriceModal=!0},handleUpdatePrice({goodId:e,newPrice:t}){const s=this.goods.find((t=>t.goodid===e));s&&(s.price=t),this.showPriceModal=!1},goToPrevPage(){this.currentPage>1&&this.currentPage--},goToNextPage(){this.currentPage<this.totalPages&&this.currentPage++},resetPage(){this.currentPage=1},stateText(e){const t={0:"上架",1:"冻结",2:"售出"};return t[e]||"未知"}},computed:{paginatedGoods(){const e=(this.currentPage-1)*this.pageSize,t=e+this.pageSize;return this.filteredGoods.slice(e,t)},totalPages(){return Math.ceil(this.filteredGoods.length/this.pageSize)}},watch:{filteredGoods(e,t){e!==t&&this.resetPage()}},mounted(){console.log("ShowGoods 组件已挂载"),this.filteredGoods=this.goods,this.showSuccessModal("价格修改成功！")}};const vi=(0,n.Z)(_i,[["render",si],["__scopeId","data-v-c3a87968"]]);var wi=vi;const yi=e=>((0,i.dD)("data-v-7ddba90a"),e=e(),(0,i.Cn)(),e),bi={key:0},ki={id:"a"},fi={class:"container"},Pi=yi((()=>(0,i._)("div",{class:"form-group"},[(0,i._)("h2",null,"当前意向订单")],-1))),Ai={border:"1px",align:"center",cellspacing:"0"},xi=yi((()=>(0,i._)("tr",null,[(0,i._)("th",null,"ID"),(0,i._)("th",null,"地址"),(0,i._)("th",null,"电话"),(0,i._)("th",null,"购买人姓名"),(0,i._)("th",null,"商品ID"),(0,i._)("th",null,"操作"),(0,i._)("th",null,"订单状态")],-1))),Ci=["onClick"],Di=["onClick"],Oi={key:2},Ii={class:"pagination"},Fi=["disabled"],Ui=["disabled"],Bi={key:1,class:"else"},Si=yi((()=>(0,i._)("a",{href:"login"},"登录",-1)));function Mi(e,t,s,r,o,l){return o.isLoggedIn?((0,i.wg)(),(0,i.iD)("div",bi,[(0,i._)("div",ki,[(0,i._)("div",fi,[Pi,(0,i._)("table",Ai,[xi,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.paginatedItems,((e,t)=>((0,i.wg)(),(0,i.iD)("tr",{key:t},[(0,i._)("td",null,(0,g.zw)(e.orderid),1),(0,i._)("td",null,(0,g.zw)(e.address),1),(0,i._)("td",null,(0,g.zw)(e.telephone),1),(0,i._)("td",null,(0,g.zw)(e.buyername),1),(0,i._)("td",null,(0,g.zw)(e.goodid),1),(0,i._)("td",null,[e.orderstate<4&&e.orderstate>0?((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:t=>l.confirmOrder(e.orderid),class:"green-btn"},"确认完成",8,Ci)):(0,i.kq)("",!0),e.orderstate<=4&&e.orderstate>0?((0,i.wg)(),(0,i.iD)("button",{key:1,onClick:t=>l.cancelOrder(e.orderid),class:"red-btn"},"取消订单",8,Di)):(0,i.kq)("",!0),e.orderstate<0||e.orderstate>4?((0,i.wg)(),(0,i.iD)("span",Oi,"无法操作订单")):(0,i.kq)("",!0)]),(0,i._)("td",null,(0,g.zw)(l.getOrderStatus(e.orderstate)),1)])))),128))]),(0,i._)("div",Ii,[(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>l.goToPrevPage&&l.goToPrevPage(...e)),disabled:l.isPrevDisabled,class:"prev"},"上一页",8,Fi),(0,i._)("span",null,"第"+(0,g.zw)(o.currentPage)+"/"+(0,g.zw)(l.totalPages)+"页",1),(0,i._)("button",{onClick:t[1]||(t[1]=(...e)=>l.goToNextPage&&l.goToNextPage(...e)),disabled:l.isNextDisabled,class:"next"},"下一页",8,Ui)])])])])):((0,i.wg)(),(0,i.iD)("div",Bi,[(0,i.Uk)(" 您还未登录，请先"),Si]))}var qi={data(){return{isLoggedIn:!0,orders:[{orderid:1,address:"地址1",telephone:"1234567890",buyername:"买家A",goodid:101,orderstate:-1},{orderid:2,address:"地址2",telephone:"0987654321",buyername:"买家B",goodid:102,orderstate:1},{orderid:3,address:"地址3",telephone:"1122334455",buyername:"买家C",goodid:103,orderstate:2},{orderid:4,address:"地址4",telephone:"5566778899",buyername:"买家D",goodid:104,orderstate:3},{orderid:5,address:"地址5",telephone:"1231231234",buyername:"买家E",goodid:105,orderstate:4},{orderid:6,address:"地址6",telephone:"3344556677",buyername:"买家F",goodid:106,orderstate:5}],currentPage:1,itemsPerPage:5,totalItems:6}},methods:{getOrderStatus(e){const t={0:"等待客户下单",1:"客户已确认，商家待确认",2:"商家已确认，等待商家备货",3:"备货已完成，等待商家发货",4:"发货已完成，等待买家确认交易完成",5:"交易已完成"};return t[e]||"订单被取消"},handleOrderAction(e,t){switch(t){case"wait":break;case"confirm":this.confirmOrder(e);break;case"prepare":break;case"ship":break;case"cancel":this.cancelOrder(e);break}},confirmOrder(e){const t=this.orders.find((t=>t.orderid===e));t&&(t.orderstate+=1),alert("该订单阶段确认成功！"),console.log("确认订单",e)},cancelOrder(e){const t=this.orders.find((t=>t.orderid===e));t&&(t.orderstate=-1),alert("该订单已取消！"),console.log("取消订单",e)},goToPrevPage(){this.currentPage>1&&(this.currentPage--,this.fetchOrders())},goToNextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.fetchOrders())},fetchOrders(){}},computed:{totalPages(){return Math.ceil(this.totalItems/this.itemsPerPage)},isPrevDisabled(){return this.currentPage<=1},isNextDisabled(){return this.currentPage>=this.totalPages},filteredOrders(){return this.orders.filter((e=>-2!==e.orderstate))},paginatedItems(){const e=(this.currentPage-1)*this.itemsPerPage,t=this.currentPage*this.itemsPerPage;return this.orders.slice(e,t)}},created(){this.fetchOrders()}};const zi=(0,n.Z)(qi,[["render",Mi],["__scopeId","data-v-7ddba90a"]]);var Ti=zi;const Ni=e=>((0,i.dD)("data-v-68128762"),e=e(),(0,i.Cn)(),e),Vi={key:0},Qi={id:"a"},Li={class:"container"},Ki=Ni((()=>(0,i._)("div",{class:"centered-container"},[(0,i._)("h2",null,"历史商品信息"),(0,i._)("br")],-1))),Ri={class:"centered-container"},Yi={class:"search-bar"},Ei=Ni((()=>(0,i._)("option",{value:"猫咪主粮"},"猫咪主粮",-1))),ji=Ni((()=>(0,i._)("option",{value:"猫咪零食"},"猫咪零食",-1))),Hi=Ni((()=>(0,i._)("option",{value:"猫咪日用"},"猫咪日用",-1))),Zi=[Ei,ji,Hi],Gi={border:"1px",align:"center",cellspacing:"0"},Wi=Ni((()=>(0,i._)("tr",null,[(0,i._)("th",null,"ID"),(0,i._)("th",null,"名称"),(0,i._)("th",null,"描述"),(0,i._)("th",null,"单价"),(0,i._)("th",null,"展示内容"),(0,i._)("th",null,"类别"),(0,i._)("th",null,"子类别"),(0,i._)("th",null,"创建日期")],-1))),$i=["src"],Ji={class:"pagination"},Xi=["disabled"],eo={id:"page-info"},to=["disabled"],so={key:1,class:"else"},ro=Ni((()=>(0,i._)("a",{href:"/login"},"登录",-1)));function io(e,t,s,o,l,n){return l.isLoggedIn?((0,i.wg)(),(0,i.iD)("div",Vi,[(0,i._)("div",Qi,[(0,i._)("div",Li,[Ki,(0,i._)("div",Ri,[(0,i._)("div",Yi,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.searchQuery=t),class:"custom-input",placeholder:"搜索商品"},null,512),[[r.nr,e.searchQuery]]),(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.selectedCategory=e),id:"search_kind"},Zi,512),[[r.bM,l.selectedCategory]]),(0,i._)("button",{onClick:t[2]||(t[2]=(...e)=>n.searchGoods&&n.searchGoods(...e)),style:{width:"130px"},class:"custom-button"},"搜索")])]),(0,i._)("table",Gi,[Wi,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.paginatedGoods,(e=>((0,i.wg)(),(0,i.iD)("tr",{key:e.goodid},[(0,i._)("td",null,(0,g.zw)(e.goodid),1),(0,i._)("td",null,(0,g.zw)(e.goodname),1),(0,i._)("td",null,(0,g.zw)(e.description),1),(0,i._)("td",null,(0,g.zw)(e.price),1),(0,i._)("td",null,[(0,i._)("img",{src:e.image,alt:"商品图片",style:{width:"100px",height:"auto"}},null,8,$i)]),(0,i._)("td",null,(0,g.zw)(e.kind),1),(0,i._)("td",null,(0,g.zw)(e.subkind),1),(0,i._)("td",null,(0,g.zw)(e.creationDate),1)])))),128))]),(0,i._)("div",Ji,[(0,i._)("button",{onClick:t[3]||(t[3]=(...e)=>n.goToPrevPage&&n.goToPrevPage(...e)),class:"prev",disabled:1===l.currentPage},"上一页",8,Xi),(0,i._)("span",eo,"第 "+(0,g.zw)(l.currentPage)+" / "+(0,g.zw)(n.totalPages)+" 页",1),(0,i._)("button",{onClick:t[4]||(t[4]=(...e)=>n.goToNextPage&&n.goToNextPage(...e)),class:"next",disabled:l.currentPage===n.totalPages},"下一页",8,to)])])])])):((0,i.wg)(),(0,i.iD)("div",so,[(0,i.Uk)(" 您还未登录，请先"),ro]))}var oo=s(7112),lo=s(453),no={data(){return{isLoggedIn:!0,products:[],selectedGood:null,selectedCategory:"猫咪主粮",currentPage:1,pageSize:2,goods:[{goodid:1,goodname:"猫咪主粮 - 高级粮",description:"富含营养的猫咪主粮，适合各种年龄段的猫。",price:150,image:oo,kind:"猫咪主粮",subkind:"猫干粮",creationDate:"2023-01-15"},{goodid:2,goodname:"猫咪零食 - 鱼肉条",description:"美味可口的鱼肉条，猫咪的最爱。",price:50,image:lo,kind:"猫咪零食",subkind:"饼干",creationDate:"2023-02-10"},{goodid:3,goodname:"猫咪日用品 - 舒适窝",description:"柔软舒适的猫窝，给您的爱宠一个温馨的家。",price:200,image:oo,kind:"猫咪日用",subkind:"猫小窝",creationDate:"2023-03-05"}],filteredGoods:[]}},methods:{searchGoods(){console.log("搜索已执行"),this.filteredGoods=this.goods.filter((e=>{const t=!this.searchQuery||e.goodname.toLowerCase().includes(this.searchQuery.toLowerCase()),s=!this.selectedCategory||e.kind===this.selectedCategory;return this.resetPage(),t&&s}))},goToPrevPage(){this.currentPage>1&&this.currentPage--},goToNextPage(){this.currentPage<this.totalPages&&this.currentPage++},resetPage(){this.currentPage=1},fetchProducts(){}},computed:{paginatedGoods(){const e=(this.currentPage-1)*this.pageSize,t=e+this.pageSize;return this.filteredGoods.slice(e,t)},totalPages(){return Math.ceil(this.filteredGoods.length/this.pageSize)}},watch:{filteredGoods(e,t){e!==t&&this.resetPage()}},mounted(){console.log("ShowHistoryGoods 组件已挂载"),this.filteredGoods=this.goods}};const ao=(0,n.Z)(no,[["render",io],["__scopeId","data-v-68128762"]]);var co=ao;const uo=e=>((0,i.dD)("data-v-c536af52"),e=e(),(0,i.Cn)(),e),go={key:0},ho={id:"a"},po={class:"container"},mo=uo((()=>(0,i._)("div",{class:"centered-container"},[(0,i._)("h2",null,"用户信息列表")],-1))),_o=uo((()=>(0,i._)("div",{id:"search_list"},null,-1))),vo={border:"1px",align:"center",cellspacing:"0"},wo=uo((()=>(0,i._)("tr",null,[(0,i._)("th",null,"ID"),(0,i._)("th",null,"用户名"),(0,i._)("th",null,"操作")],-1))),yo={class:"pagination"},bo={id:"page-info"},ko={key:1,class:"else"},fo=uo((()=>(0,i._)("span",null,[(0,i.Uk)("您还未登录，请先"),(0,i._)("a",{href:"/login"},"登录")],-1))),Po=[fo];function Ao(e,t,s,r,o,l){const n=(0,i.up)("router-link");return o.isLoggedIn?((0,i.wg)(),(0,i.iD)("div",go,[(0,i._)("div",ho,[(0,i._)("div",po,[mo,_o,(0,i._)("table",vo,[wo,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.paginatedUsers,(e=>((0,i.wg)(),(0,i.iD)("tr",{key:e.userid},[(0,i._)("td",null,(0,g.zw)(e.userid),1),(0,i._)("td",null,(0,g.zw)(e.username),1),(0,i._)("td",null,[(0,i.Wm)(n,{to:{name:"UserOrderHistory",props:[e.userid]}},{default:(0,i.w5)((()=>[(0,i.Uk)(" 查看购买历史 ")])),_:2},1032,["to"])])])))),128))]),(0,i._)("div",yo,[(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>l.goToPrevPage&&l.goToPrevPage(...e)),class:"prev"},"上一页"),(0,i._)("span",bo,"第 "+(0,g.zw)(o.currentPage)+" 页",1),(0,i._)("button",{onClick:t[1]||(t[1]=(...e)=>l.goToNextPage&&l.goToNextPage(...e)),class:"next"},"下一页")])])])])):((0,i.wg)(),(0,i.iD)("div",ko,Po))}var xo={data(){return{isLoggedIn:!0,currentPage:1,users:[{userid:1,username:"user1"},{userid:2,username:"user2"},{userid:3,username:"user3"},{userid:4,username:"user4"},{userid:5,username:"user5"},{userid:6,username:"user6"},{userid:7,username:"user7"},{userid:8,username:"user8"},{userid:9,username:"user9"},{userid:10,username:"user10"},{userid:11,username:"user11"},{userid:12,username:"user12"},{userid:13,username:"user13"},{userid:14,username:"user14"},{userid:15,username:"user15"}],pageSize:5,filteredUsers:[]}},computed:{paginatedUsers(){const e=(this.currentPage-1)*this.pageSize,t=e+this.pageSize;return this.filteredUsers.slice(e,t)},totalPages(){return Math.ceil(this.filteredUsers.length/this.pageSize)}},methods:{goToPrevPage(){this.currentPage>1&&this.currentPage--},goToNextPage(){this.currentPage<this.totalPages&&this.currentPage++},fetchUsers(){}},mounted(){this.filteredUsers=this.users,this.fetchUsers()}};const Co=(0,n.Z)(xo,[["render",Ao],["__scopeId","data-v-c536af52"]]);var Do=Co;const Oo=e=>((0,i.dD)("data-v-7834e8f8"),e=e(),(0,i.Cn)(),e),Io={key:0,class:"container"},Fo=Oo((()=>(0,i._)("h1",null,"上传多个商品",-1))),Uo={class:"form-group"},Bo=Oo((()=>(0,i._)("label",{for:"goodName"},"商品名称：",-1))),So={key:0,class:"error"},Mo={class:"form-group"},qo=Oo((()=>(0,i._)("label",{for:"price"},"商品价格：",-1))),zo={key:0,class:"error"},To={class:"form-group"},No=Oo((()=>(0,i._)("label",{for:"stock"},"商品数量：",-1))),Vo={key:0,class:"error"},Qo={class:"form-group"},Lo=Oo((()=>(0,i._)("label",{for:"description"},"商品描述：",-1))),Ko={key:0,class:"error"},Ro={class:"form-group"},Yo=Oo((()=>(0,i._)("label",{for:"kind"},"商品大类：",-1))),Eo=["value"],jo={class:"form-group"},Ho=Oo((()=>(0,i._)("label",{for:"subkind"},"商品子类：",-1))),Zo=["value"],Go=Oo((()=>(0,i._)("label",{for:"kind"},"商品图片：",-1))),Wo={id:"preview"},$o={key:0},Jo=["src"],Xo=["src"],el=["onClick"],tl={key:1},sl=["disabled"],rl={key:0,class:"error"},il=Oo((()=>(0,i._)("br",null,null,-1))),ol=Oo((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"商品名称"),(0,i._)("th",null,"价格"),(0,i._)("th",null,"数量"),(0,i._)("th",null,"描述"),(0,i._)("th",null,"展示内容"),(0,i._)("th",null,"商品类别"),(0,i._)("th",null,"子类别")])],-1))),ll=["src"],nl=["src"],al={key:1},dl=Oo((()=>(0,i._)("a",{href:"/login"},"登录",-1)));function cl(e,t,s,o,l,n){return l.isLoggedIn?((0,i.wg)(),(0,i.iD)("div",Io,[Fo,(0,i._)("div",null,[(0,i._)("div",Uo,[Bo,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.goodName=e),placeholder:"请输入商品名称",required:""},null,512),[[r.nr,l.goodName]]),l.errors.goodName?((0,i.wg)(),(0,i.iD)("span",So,(0,g.zw)(l.errors.goodName),1)):(0,i.kq)("",!0)]),(0,i._)("div",Mo,[qo,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>l.price=e),placeholder:"请输入商品价格",required:""},null,512),[[r.nr,l.price]]),l.errors.price?((0,i.wg)(),(0,i.iD)("span",zo,(0,g.zw)(l.errors.price),1)):(0,i.kq)("",!0)]),(0,i._)("div",To,[No,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>l.stock=e),placeholder:"请输入商品库存",required:""},null,512),[[r.nr,l.stock]]),l.errors.stock?((0,i.wg)(),(0,i.iD)("span",Vo,(0,g.zw)(l.errors.stock),1)):(0,i.kq)("",!0)]),(0,i._)("div",Qo,[Lo,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>l.description=e),placeholder:"请输入商品描述",required:""},null,512),[[r.nr,l.description]]),l.errors.description?((0,i.wg)(),(0,i.iD)("span",Ko,(0,g.zw)(l.errors.description),1)):(0,i.kq)("",!0)]),(0,i._)("div",Ro,[Yo,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.selectedKind=e),onChange:t[5]||(t[5]=(...e)=>n.updateSubcategories&&n.updateSubcategories(...e))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.kinds,(e=>((0,i.wg)(),(0,i.iD)("option",{key:e.value,value:e.value},(0,g.zw)(e.text),9,Eo)))),128))],544),[[r.bM,l.selectedKind]])]),(0,i._)("div",jo,[Ho,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.selectedSubkind=e)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.subkinds,(e=>((0,i.wg)(),(0,i.iD)("option",{key:e,value:e},(0,g.zw)(e),9,Zo)))),128))],512),[[r.bM,l.selectedSubkind]])]),Go,(0,i._)("div",Wo,[l.selectedFiles.length>0?((0,i.wg)(),(0,i.iD)("div",$o,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.selectedFiles,((e,t)=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:t},[e.isImage?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.url,alt:"预览图"},null,8,Jo)):((0,i.wg)(),(0,i.iD)("video",{key:1,controls:"",src:e.url},null,8,Xo)),(0,i._)("button",{onClick:e=>n.removeFile(t)},"X",8,el)])),[[r.F8,t===l.currentPreviewIndex]]))),128))])):((0,i.wg)(),(0,i.iD)("div",tl," 没有选择文件 "))]),(0,i._)("button",{type:"button",onClick:t[7]||(t[7]=(...e)=>n.prevImage&&n.prevImage(...e))},"＜"),(0,i.Uk)("  "),(0,i._)("button",{type:"button",onClick:t[8]||(t[8]=(...e)=>n.nextImage&&n.nextImage(...e))},"＞"),(0,i._)("input",{type:"file",disabled:n.isFileInputDisabled,ref:"fileInput",onChange:t[9]||(t[9]=(...e)=>n.handleFileChange&&n.handleFileChange(...e)),accept:"image/png, image/jpeg, video/mp4",multiple:"",style:{display:"none"}},null,40,sl),(0,i._)("button",{type:"button",onClick:t[10]||(t[10]=(...e)=>n.triggerFileInput&&n.triggerFileInput(...e))},"上传图片/视频"),l.errors.pictureError?((0,i.wg)(),(0,i.iD)("span",rl,(0,g.zw)(l.errors.pictureError),1)):(0,i.kq)("",!0),il,(0,i._)("button",{onClick:t[11]||(t[11]=(...e)=>n.addProduct&&n.addProduct(...e))},"添加商品")]),(0,i._)("table",null,[ol,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.productList,((e,t)=>((0,i.wg)(),(0,i.iD)("tr",{key:t},[(0,i._)("td",null,(0,g.zw)(e.goodName),1),(0,i._)("td",null,(0,g.zw)(e.price),1),(0,i._)("td",null,(0,g.zw)(e.stock),1),(0,i._)("td",null,(0,g.zw)(e.description),1),(0,i._)("td",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.mediaFiles,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t},[e.isImage?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.url,alt:"Image Preview",style:{"max-width":"100px","max-height":"100px","object-fit":"contain"}},null,8,ll)):((0,i.wg)(),(0,i.iD)("video",{key:1,controls:"",src:e.url,style:{"max-width":"100px","max-height":"100px"}},null,8,nl))])))),128))]),(0,i._)("td",null,(0,g.zw)(e.kind),1),(0,i._)("td",null,(0,g.zw)(e.subkind),1)])))),128))])]),(0,i._)("button",{onClick:t[12]||(t[12]=(...e)=>n.submitProducts&&n.submitProducts(...e))},"确认发布所有商品")])):((0,i.wg)(),(0,i.iD)("div",al,[(0,i.Uk)(" 您还未登录，请先"),dl]))}var ul={data(){return{products:[],isLoggedIn:!0,goodName:"",price:"",stock:"",description:"",selectedFiles:[],selectedKind:"猫咪主粮",selectedSubkind:"",currentPreviewIndex:0,kinds:[{value:"猫咪主粮",text:"猫咪主粮"},{value:"猫咪零食",text:"猫咪零食"},{value:"猫咪日用",text:"猫咪日用"}],subkinds:[],productList:[],errors:{pictureError:"",goodName:"",price:"",stock:"",description:""}}},methods:{addProduct(){if(this.goodName.length>20)return void alert("商品名称不能超过20个字符");if(isNaN(this.price))return void alert("价格需要输入数字");if(isNaN(this.stock))return void(this.errors.stock="库存需要输入数字");if(this.description.length>100)return void alert("商品描述不能超过100个字符");if(0===this.selectedFiles.length)return void alert("请上传至少一个文件");const e={goodName:this.goodName,price:this.price,stock:this.stock,description:this.description,kind:this.selectedKind,subkind:this.selectedSubkind,mediaFiles:this.selectedFiles.map((e=>({url:e.url,isImage:e.isImage})))};this.productList.push(e),this.goodName="",this.price="",this.stock="",this.description="",this.selectedFiles=[],alert("商品已添加")},isImage(e){return!(e&&e.type)||e&&e.type&&e.type.startsWith("image/")},updateSubcategories(){"猫咪主粮"===this.selectedKind?this.subkinds=["猫干粮","猫湿粮"]:"猫咪零食"===this.selectedKind?this.subkinds=["饼干","罐头","猫条"]:"猫咪日用"===this.selectedKind&&(this.subkinds=["猫砂盆","猫小窝","猫沙发","清洁除味"]),this.subkinds.length>0?this.selectedSubkind=this.subkinds[0]:this.selectedSubkind=""},handleFileChange(e){const t=Array.from(e.target.files),s=["image/png","image/jpeg","video/mp4"],r=t.filter((e=>s.includes(e.type)));if(r.length<t.length)return void alert("不支持的文件格式。请上传png、jpg或mp4格式的文件。");const i=3-this.selectedFiles.length,o=r.slice(0,i),l=3,n=10485760;if(t.length>l)return void alert(`您只能上传最多 ${l} 个文件。`);const a=t.some((e=>e.size>n));if(a)return void alert("所有文件必须小于10MB，请重新选择文件。");if(this.selectedFiles.length+o.length>3)return void alert("最多只能上传3个文件。");const d=r.map((e=>({...e,url:URL.createObjectURL(e),isImage:e.type.startsWith("image/")})));this.selectedFiles=[...this.selectedFiles,...d],3===this.selectedFiles.length?e.target.disabled=!0:(e.target.disabled=!1,e.target.value=""),this.$refs.fileInput&&(this.$refs.fileInput.value=""),this.selectedFiles.length<3&&(e.target.disabled=!1)},goBack(){this.$router.go(-1)},removeFile(e){URL.revokeObjectURL(this.selectedFiles[e].url),this.selectedFiles.splice(e,1),this.selectedFiles.length<3&&this.$refs.fileInput&&(this.$refs.fileInput.disabled=!1),this.$refs.fileInput&&(this.$refs.fileInput.value="")},triggerFileInput(){this.$refs.fileInput?this.$refs.fileInput.click():console.error("未找到文件输入框。")},submitProducts(){console.log("提交的产品:",this.productList),new Promise((e=>{setTimeout((()=>{e("提交成功")}),2e3)})).then((e=>{console.log(e),this.productList=[],alert("所有商品已成功发布！")})).catch((e=>{console.error("模拟错误:",e),alert("发布商品时发生错误。")}))},prevImage(){this.selectedFiles.length>0&&(this.currentPreviewIndex=(this.currentPreviewIndex-1+this.selectedFiles.length)%this.selectedFiles.length)},nextImage(){this.selectedFiles.length>0&&(this.currentPreviewIndex=(this.currentPreviewIndex+1)%this.selectedFiles.length)}},mounted(){this.updateSubcategories()},computed:{currentFile(){return this.selectedFiles[this.currentPreviewIndex]},isFileInputDisabled(){return this.selectedFiles.length>=3}}};const gl=(0,n.Z)(ul,[["render",cl],["__scopeId","data-v-7834e8f8"]]);var hl=gl;const pl=e=>((0,i.dD)("data-v-1c5b2bb2"),e=e(),(0,i.Cn)(),e),ml={class:"daohang"},_l={class:"title-container"},vl=pl((()=>(0,i._)("h2",null,"请填写账号",-1))),wl=pl((()=>(0,i._)("div",{class:"cat-background"},null,-1))),yl={class:"login"},bl={class:"input"},kl=pl((()=>(0,i._)("h3",null,"找回账号",-1))),fl=pl((()=>(0,i._)("input",{class:"button",type:"submit",value:"找回密码"},null,-1))),Pl={key:0,class:"error-message",id:"b"};function Al(e,t,s,o,l,n){const a=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("ul",ml,[(0,i._)("div",_l,[vl,(0,i.Wm)(a,{to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("返回初始页面")])),_:1})]),wl]),(0,i._)("div",yl,[(0,i._)("form",{onSubmit:t[1]||(t[1]=(0,r.iM)(((...e)=>n.submitForgetPassword&&n.submitForgetPassword(...e)),["prevent"]))},[(0,i._)("div",bl,[kl,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.forgetName=e),placeholder:"请输入账号"},null,512),[[r.nr,l.forgetName]]),fl])],32)]),l.error?((0,i.wg)(),(0,i.iD)("div",Pl,(0,g.zw)(l.error),1)):(0,i.kq)("",!0)],64)}var xl={data(){return{forgetName:"",error:null}},methods:{async submitForgetPassword(){try{this.$router.push({name:"SecretQuestion",params:{username:this.forName}})}catch(e){this.error="找回密码时出错"}}}};const Cl=(0,n.Z)(xl,[["render",Al],["__scopeId","data-v-1c5b2bb2"]]);var Dl=Cl;const Ol=e=>((0,i.dD)("data-v-ee0f3110"),e=e(),(0,i.Cn)(),e),Il=Ol((()=>(0,i._)("h1",null,"游客访问页面",-1))),Fl=[Il];function Ul(e,t,s,r,o,l){return(0,i.wg)(),(0,i.iD)("div",null,Fl)}var Bl={name:"GuestComponent"};const Sl=(0,n.Z)(Bl,[["render",Ul],["__scopeId","data-v-ee0f3110"]]);var Ml=Sl;const ql=e=>((0,i.dD)("data-v-2201c346"),e=e(),(0,i.Cn)(),e),zl={style:{margin:"0px"}},Tl={key:0},Nl={class:"container"},Vl={class:"centered-container"},Ql={style:{"border-collapse":"collapse",width:"80%","box-shadow":"0 2px 4px rgba(0,0,0,0.1)"},border:"1",align:"center",cellpadding:"10"},Ll=ql((()=>(0,i._)("tr",null,[(0,i._)("th",null,"ID"),(0,i._)("th",null,"地址"),(0,i._)("th",null,"电话"),(0,i._)("th",null,"购买人姓名"),(0,i._)("th",null,"商品ID"),(0,i._)("th",null,"订单状态")],-1))),Kl={class:"pagination"},Rl=["disabled"],Yl=["disabled"],El={key:1},jl=ql((()=>(0,i._)("span",null,[(0,i.Uk)("您还未登录，请先"),(0,i._)("a",{href:"/login"},"登录")],-1))),Hl=[jl];function Zl(e,t,s,r,o,l){const n=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",zl,[o.isLoggedIn?((0,i.wg)(),(0,i.iD)("div",Tl,[(0,i._)("div",Nl,[(0,i.Wm)(n,{to:{name:"ShowAllUsers"}},{default:(0,i.w5)((()=>[(0,i.Uk)(" 返回 ")])),_:1}),(0,i._)("div",Vl,[(0,i._)("h2",null,"用户 "+(0,g.zw)(s.userId)+" 的购买历史",1)]),(0,i._)("table",Ql,[Ll,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.paginatedOrders,(e=>((0,i.wg)(),(0,i.iD)("tr",{key:e.orderid},[(0,i._)("td",null,(0,g.zw)(e.orderid),1),(0,i._)("td",null,(0,g.zw)(e.address),1),(0,i._)("td",null,(0,g.zw)(e.telephone),1),(0,i._)("td",null,(0,g.zw)(e.buyername),1),(0,i._)("td",null,(0,g.zw)(e.goodid),1),(0,i._)("td",null,(0,g.zw)(l.getOrderStatus(e.orderstate)),1)])))),128))]),(0,i._)("div",Kl,[(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>l.goToPrevPage&&l.goToPrevPage(...e)),disabled:l.isPrevDisabled},"上一页",8,Rl),(0,i._)("span",null,(0,g.zw)(o.currentPage)+" / "+(0,g.zw)(l.totalPages),1),(0,i._)("button",{onClick:t[1]||(t[1]=(...e)=>l.goToNextPage&&l.goToNextPage(...e)),disabled:l.isNextDisabled},"下一页",8,Yl)])])])):((0,i.wg)(),(0,i.iD)("div",El,Hl))])}var Gl=s(65),Wl={props:["userId"],data(){return{isLoggedIn:!0,orders:[{orderid:1,address:"地址1",telephone:"1234567890",buyername:"user1",goodid:101,orderstate:4},{orderid:2,address:"地址2",telephone:"1234567891",buyername:"user1",goodid:102,orderstate:3},{orderid:3,address:"地址3",telephone:"1234567892",buyername:"user1",goodid:103,orderstate:2},{orderid:4,address:"地址4",telephone:"1234567893",buyername:"user1",goodid:104,orderstate:1},{orderid:5,address:"地址5",telephone:"1234567894",buyername:"user1",goodid:105,orderstate:0},{orderid:6,address:"地址6",telephone:"1234567895",buyername:"user1",goodid:106,orderstate:-1},{orderid:7,address:"地址7",telephone:"1234567896",buyername:"user1",goodid:107,orderstate:5},{orderid:8,address:"地址8",telephone:"1234567897",buyername:"user1",goodid:108,orderstate:4}],currentPage:1,pageSize:5}},computed:{...(0,Gl.Se)(["isSeller","isBuyer"]),totalPages(){return 1>Math.ceil(this.orders.length/this.pageSize)?1:Math.ceil(this.orders.length/this.pageSize)},paginatedOrders(){const e=(this.currentPage-1)*this.pageSize,t=e+this.pageSize;return this.orders.slice(e,t)},isSeller(){return this.$store.getters.isSeller},isPrevDisabled(){return 1===this.currentPage},isNextDisabled(){return this.currentPage===this.totalPages}},methods:{goBack(){this.$router.push({name:"ShowAllUsers"})},fetchOrders(){},getOrderStatus(e){const t={"-1":"交易取消",0:"等待客户下单",1:"等待商家确认",2:"等待备货确认",3:"等待发货确认",4:"商家已发货，等待交易确认",5:"交易成功"};return t[e]||"未知状态"},goToPrevPage(){this.currentPage>1&&this.currentPage--},goToNextPage(){this.currentPage<this.totalPages&&this.currentPage++}},mounted(){this.fetchOrders(),this.filteredUsers=this.orders}};const $l=(0,n.Z)(Wl,[["render",Zl],["__scopeId","data-v-2201c346"]]);var Jl=$l;const Xl={class:"success-page"},en=(0,i._)("h2",null,"成功界面",-1),tn={key:0},sn={key:5},rn={key:2};function on(e,t,s,r,o,l){const n=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",Xl,[en,l.message?((0,i.wg)(),(0,i.iD)("p",tn,(0,g.zw)(l.message),1)):(0,i.kq)("",!0),"/"===l.to?((0,i.wg)(),(0,i.j4)(n,{key:1,to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("返回登录界面")])),_:1})):(0,i.kq)("",!0),"buyermain"===l.to?((0,i.wg)(),(0,i.j4)(n,{key:2,to:"/buyer"},{default:(0,i.w5)((()=>[(0,i.Uk)("返回买家主页")])),_:1})):(0,i.kq)("",!0),"show_goods"===l.to?((0,i.wg)(),(0,i.j4)(n,{key:3,to:"/seller/ShowGoods"},{default:(0,i.w5)((()=>[(0,i.Uk)("返回商品列表")])),_:1})):(0,i.kq)("",!0),"show_pwd"===l.to?((0,i.wg)(),(0,i.j4)(n,{key:4,to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("返回登录页面")])),_:1})):(0,i.kq)("",!0),e.isLoggedIn?((0,i.wg)(),(0,i.iD)("div",sn,["good"===l.to?((0,i.wg)(),(0,i.j4)(n,{key:0,to:"/good"},{default:(0,i.w5)((()=>[(0,i.Uk)("前往商品界面")])),_:1})):(0,i.kq)("",!0),"createorder"===l.to?((0,i.wg)(),(0,i.j4)(n,{key:1,to:"/create-order"},{default:(0,i.w5)((()=>[(0,i.Uk)("返回订单修改界面")])),_:1})):(0,i.kq)("",!0),e.isSeller?((0,i.wg)(),(0,i.iD)("div",rn,["changepwd"===l.to?((0,i.wg)(),(0,i.j4)(n,{key:0,to:"/seller/change-pwd"},{default:(0,i.w5)((()=>[(0,i.Uk)("返回密码修改界面")])),_:1})):(0,i.kq)("",!0),"order"===l.to?((0,i.wg)(),(0,i.j4)(n,{key:1,to:"/seller/order"},{default:(0,i.w5)((()=>[(0,i.Uk)("前往卖家后台")])),_:1})):(0,i.kq)("",!0),"upload_goods"===l.to?((0,i.wg)(),(0,i.j4)(n,{key:2,to:"/seller/upload-goods"},{default:(0,i.w5)((()=>[(0,i.Uk)("返回填写界面")])),_:1})):(0,i.kq)("",!0)])):(0,i.kq)("",!0)])):(0,i.kq)("",!0)])}var ln={computed:{...(0,Gl.Se)(["isLoggedIn","isSeller"]),message(){return this.$route.params.message||"操作成功"},to(){return this.$route.params.to||"/"}},mounted(){console.log("Message:",this.message),console.log("To:",this.to)}};const nn=(0,n.Z)(ln,[["render",on]]);var an=nn;const dn=e=>((0,i.dD)("data-v-da28cdf0"),e=e(),(0,i.Cn)(),e),cn={class:"daohang"},un={class:"title-container"},gn=dn((()=>(0,i._)("h2",null,"请回答密保问题",-1))),hn=dn((()=>(0,i._)("div",{class:"cat-background"},null,-1))),pn={class:"login"},mn={class:"input"},_n=dn((()=>(0,i._)("input",{class:"button",type:"submit",value:"找回密码"},null,-1))),vn={key:0,class:"error-message",id:"b"};function wn(e,t,s,o,l,n){const a=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("ul",cn,[(0,i._)("div",un,[gn,(0,i.Wm)(a,{to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("返回初始页面")])),_:1})]),hn]),(0,i._)("div",pn,[(0,i._)("form",{onSubmit:t[1]||(t[1]=(0,r.iM)(((...e)=>n.submitSecretAnswer&&n.submitSecretAnswer(...e)),["prevent"]))},[(0,i._)("div",mn,[(0,i._)("h3",null,"用户"+(0,g.zw)(l.username)+"，请您回答密保问题",1),(0,i._)("h4",null,(0,g.zw)(l.secretQuestion),1),(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.secretAnswer=e),placeholder:"请输入答案"},null,512),[[r.nr,l.secretAnswer]]),_n])],32)]),l.error?((0,i.wg)(),(0,i.iD)("div",vn,(0,g.zw)(l.error),1)):(0,i.kq)("",!0)],64)}var yn={data(){return{username:"userExample",secretQuestion:"who are you?",secretAnswer:"seller",error:null}},methods:{async submitSecretAnswer(){try{alert("您的密码是：123"),this.$router.push("/")}catch(e){this.error="回答密保问题时出错"}}}};const bn=(0,n.Z)(yn,[["render",wn],["__scopeId","data-v-da28cdf0"]]);var kn=bn;const fn=e=>((0,i.dD)("data-v-685c1d4e"),e=e(),(0,i.Cn)(),e),Pn={style:{margin:"0px"}},An={key:0},xn={class:"left"},Cn={class:"daohang"},Dn=fn((()=>(0,i._)("img",{class:"head1",src:me,alt:""},null,-1))),On={class:"head2"},In={class:"head4"},Fn={class:"head4"},Un={class:"head4"},Bn={class:"head4"},Sn={class:"head5"},Mn={class:"right",style:{width:"75%"}},qn={class:"container"},zn=fn((()=>(0,i._)("div",{class:"centered-container"},[(0,i._)("h2",null,"历史下单记录")],-1))),Tn={style:{"border-collapse":"collapse",width:"100%","box-shadow":"0 2px 4px rgba(0,0,0,0.1)"},border:"1",align:"center",cellpadding:"10"},Nn=fn((()=>(0,i._)("tr",null,[(0,i._)("th",null,"ID"),(0,i._)("th",null,"地址"),(0,i._)("th",null,"电话"),(0,i._)("th",null,"购买人姓名"),(0,i._)("th",null,"商品ID"),(0,i._)("th",null,"操作"),(0,i._)("th",null,"订单状态")],-1))),Vn=["onClick"],Qn=["onClick"],Ln={key:2},Kn={class:"pagination"},Rn=["disabled"],Yn=["disabled"],En={key:1},jn=fn((()=>(0,i._)("div",{class:"else"},[(0,i.Uk)(" 您还未登录，请先"),(0,i._)("a",{href:"/"},"登录")],-1))),Hn=[jn];function Zn(e,t,s,r,o,l){const n=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("body",Pn,[o.isLoggedIn?((0,i.wg)(),(0,i.iD)("div",An,[(0,i._)("div",xn,[(0,i._)("table",Cn,[Dn,(0,i._)("tr",null,[(0,i._)("td",On,(0,g.zw)(l.username),1)]),(0,i._)("tr",null,[(0,i._)("td",In,[(0,i._)("h3",{onClick:t[0]||(t[0]=e=>l.navigateTo("BuyerCart")),class:"head4-1",style:{cursor:"pointer"}},"我的购物车")])]),(0,i._)("tr",null,[(0,i._)("td",Fn,[(0,i._)("h3",{onClick:t[1]||(t[1]=e=>l.navigateTo("BuyerLikes")),class:"head4-1",style:{cursor:"pointer"}},"我的收藏")])]),(0,i._)("tr",null,[(0,i._)("td",Un,[(0,i._)("h3",{onClick:t[2]||(t[2]=e=>l.navigateTo("buyerHistory")),class:"head4-1",style:{cursor:"pointer"}},"历史购买记录")])]),(0,i._)("tr",null,[(0,i._)("td",Bn,[(0,i._)("h3",{onClick:t[3]||(t[3]=e=>l.navigateTo("BuyerMain")),class:"head4-1",style:{cursor:"pointer"}},"返回主页")])]),(0,i._)("tr",null,[(0,i._)("td",Sn,[(0,i._)("button",{onClick:t[4]||(t[4]=(...e)=>l.handleLogout&&l.handleLogout(...e)),class:"head5-1",style:{cursor:"pointer"}},"退出登录")])])])]),(0,i._)("div",Mn,[(0,i._)("div",qn,[(0,i.Wm)(n,{to:{name:"BuyerMain"}},{default:(0,i.w5)((()=>[(0,i.Uk)(" 返回 ")])),_:1}),zn,(0,i._)("table",Tn,[Nn,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.paginatedOrders,(e=>((0,i.wg)(),(0,i.iD)("tr",{key:e.orderid},[(0,i._)("td",null,(0,g.zw)(e.orderid),1),(0,i._)("td",null,(0,g.zw)(e.address),1),(0,i._)("td",null,(0,g.zw)(e.telephone),1),(0,i._)("td",null,(0,g.zw)(e.buyername),1),(0,i._)("td",null,(0,g.zw)(e.goodid),1),(0,i._)("td",null,[4===e.orderstate?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"green-btn",onClick:t=>l.handleOrderAction(e.orderid,"confirmCompletion"),style:{"background-color":"transparent",color:"#f44336",border:"2px solid #f44336",padding:"5px 10px","border-radius":"4px",cursor:"pointer"}},"确认交易完成",8,Vn)):(0,i.kq)("",!0),e.orderstate>=0&&e.orderstate<4?((0,i.wg)(),(0,i.iD)("button",{key:1,class:"red-btn",onClick:t=>l.handleOrderAction(e.orderid,"cancel"),style:{"background-color":"transparent",color:"#f44336",border:"2px solid #f44336",padding:"5px 10px","border-radius":"4px",cursor:"pointer"}},"取消订单",8,Qn)):(0,i.kq)("",!0),e.orderstate>4||-1===e.orderstate?((0,i.wg)(),(0,i.iD)("span",Ln,"无法操作订单")):(0,i.kq)("",!0)]),(0,i._)("td",null,(0,g.zw)(l.getOrderStatus(e.orderstate)),1)])))),128))]),(0,i._)("div",Kn,[(0,i._)("button",{onClick:t[5]||(t[5]=(...e)=>l.goToPrevPage&&l.goToPrevPage(...e)),disabled:l.isPrevDisabled,class:"prev"},"上一页",8,Rn),(0,i._)("span",null,(0,g.zw)(o.currentPage)+" / "+(0,g.zw)(l.totalPages),1),(0,i._)("button",{onClick:t[6]||(t[6]=(...e)=>l.goToNextPage&&l.goToNextPage(...e)),disabled:l.isNextDisabled,class:"next"},"下一页",8,Yn)])])])])):((0,i.wg)(),(0,i.iD)("div",En,Hn))])}var Gn={props:["userId"],data(){return{isLoggedIn:!0,orders:[{orderid:1,address:"地址1",telephone:"1234567890",buyername:"user1",goodid:101,orderstate:4},{orderid:2,address:"地址2",telephone:"1234567891",buyername:"user2",goodid:102,orderstate:3},{orderid:3,address:"地址3",telephone:"1234567892",buyername:"user3",goodid:103,orderstate:2},{orderid:4,address:"地址4",telephone:"1234567893",buyername:"user4",goodid:104,orderstate:1},{orderid:6,address:"地址6",telephone:"1234567895",buyername:"user6",goodid:106,orderstate:-1},{orderid:7,address:"地址7",telephone:"1234567896",buyername:"user7",goodid:107,orderstate:5},{orderid:8,address:"地址8",telephone:"1234567897",buyername:"user8",goodid:108,orderstate:4}],currentPage:1,pageSize:5,totalItems:8}},methods:{...(0,Gl.nv)(["logout"]),handleLogout(){this.logout(),this.$router.push("/")},navigateTo(e){this.$router.push({name:e})},beforeMount(){this.isLoggedIn||this.$router.push("/")},goBack(){this.$router.push({name:"ShowAllUsers"})},getOrderStatus(e){const t={"-1":"交易取消",0:"等待客户下单",1:"等待商家确认",2:"等待备货确认",3:"等待发货确认",4:"商家已发货，等待交易确认",5:"交易成功"};return t[e]||"未知状态"},handleOrderAction(e,t){switch(t){case"confirmCompletion":this.confirmOrder(e);break;case"cancel":this.cancelOrder(e);break;default:console.log("无效的操作")}},confirmOrder(e){const t=this.orders.find((t=>t.orderid===e));t&&(t.orderstate+=1),alert("该订单阶段确认成功！"),console.log("确认订单",e)},cancelOrder(e){const t=this.orders.find((t=>t.orderid===e));t&&(t.orderstate=-1),alert("该订单已取消！"),console.log("取消订单",e)},goToPrevPage(){this.currentPage>1&&(this.currentPage--,this.fetchOrders())},goToNextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.fetchOrders())},fetchOrders(){}},computed:{...(0,Gl.Se)(["isSeller","isBuyer"]),username(){return this.$store.state.admin?this.$store.state.admin.username:"未登录"},totalPages(){return 1>Math.ceil(this.orders.length/this.pageSize)?1:Math.ceil(this.orders.length/this.pageSize)},paginatedOrders(){const e=(this.currentPage-1)*this.pageSize,t=e+this.pageSize;return this.orders.slice(e,t)},isSeller(){return this.$store.getters.isSeller},isPrevDisabled(){return 1===this.currentPage},isNextDisabled(){return this.currentPage===this.totalPages}},mounted(){this.fetchOrders(),this.filteredUsers=this.orders}};const Wn=(0,n.Z)(Gn,[["render",Zn],["__scopeId","data-v-685c1d4e"]]);var $n=Wn;const Jn=e=>((0,i.dD)("data-v-40b18359"),e=e(),(0,i.Cn)(),e),Xn={style:{margin:"0px"}},ea={key:0},ta={class:"left"},sa={class:"daohang"},ra=Jn((()=>(0,i._)("img",{class:"head1",src:me,alt:""},null,-1))),ia={class:"head2"},oa={class:"head4"},la={class:"head4"},na={class:"head4"},aa={class:"head4"},da={class:"head5"},ca={class:"right",style:{width:"50%"}},ua={class:"container"},ga=Jn((()=>(0,i._)("div",{class:"centered-container"},[(0,i._)("h2",null,"我的收藏")],-1))),ha={border:"1px",align:"center",cellspacing:"0",style:{width:"90%"}},pa=Jn((()=>(0,i._)("tr",null,[(0,i._)("th",null,"展示内容"),(0,i._)("th",null,"名称"),(0,i._)("th",null,"描述"),(0,i._)("th",null,"操作")],-1))),ma={style:{display:"flex","justify-content":"center","align-items":"center"}},_a={style:{"text-align":"center"}},va=["src"],wa=["src"],ya={class:"media-navigation"},ba=["onClick"],ka=["onClick"],fa={key:0,class:"overlay"},Pa={class:"centered-container"},Aa={class:"centered-container"},xa={class:"centered-container"},Ca=["onClick"],Da={class:"pagination"},Oa=["disabled"],Ia={id:"page-info"},Fa=["disabled"],Ua={key:1,class:"else"},Ba=Jn((()=>(0,i._)("a",{href:"login"},"登录",-1)));function Sa(e,t,s,o,l,n){return(0,i.wg)(),(0,i.iD)("body",Xn,[e.isLoggedIn?((0,i.wg)(),(0,i.iD)("div",ea,[(0,i._)("div",ta,[(0,i._)("table",sa,[ra,(0,i._)("tr",null,[(0,i._)("td",ia,(0,g.zw)(n.username),1)]),(0,i._)("tr",null,[(0,i._)("td",oa,[(0,i._)("h3",{onClick:t[0]||(t[0]=e=>n.navigateTo("BuyerCart")),class:"head4-1",style:{cursor:"pointer"}},"我的购物车")])]),(0,i._)("tr",null,[(0,i._)("td",la,[(0,i._)("h3",{onClick:t[1]||(t[1]=e=>n.navigateTo("BuyerLikes")),class:"head4-1",style:{cursor:"pointer"}},"我的收藏")])]),(0,i._)("tr",null,[(0,i._)("td",na,[(0,i._)("h3",{onClick:t[2]||(t[2]=e=>n.navigateTo("buyerHistory")),class:"head4-1",style:{cursor:"pointer"}},"历史购买记录")])]),(0,i._)("tr",null,[(0,i._)("td",aa,[(0,i._)("h3",{onClick:t[3]||(t[3]=e=>n.navigateTo("BuyerMain")),class:"head4-1",style:{cursor:"pointer"}},"返回主页")])]),(0,i._)("tr",null,[(0,i._)("td",da,[(0,i._)("button",{onClick:t[4]||(t[4]=(...e)=>n.handleLogout&&n.handleLogout(...e)),class:"head5-1",style:{cursor:"pointer"}},"退出登录")])])])]),(0,i._)("div",ca,[(0,i._)("div",ua,[ga,(0,i._)("table",ha,[pa,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.paginatedItems,(e=>((0,i.wg)(),(0,i.iD)("tr",{key:e.id},[(0,i._)("td",null,[(0,i._)("div",ma,[(0,i._)("div",_a,[(0,i._)("div",{class:(0,g.C_)(["media-container",{"sold-out":0!==e.state}])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.mediaFiles,((e,t)=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:t},[e.isVideo?(0,i.kq)("",!0):(0,i.wy)(((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.url,alt:"商品图片"},null,8,va)),[[r.F8,e.isActive]]),e.isVideo?(0,i.wy)(((0,i.wg)(),(0,i.iD)("video",{key:1,src:e.url,controls:""},null,8,wa)),[[r.F8,e.isActive]]):(0,i.kq)("",!0)])),[[r.F8,e.isActive]]))),128))],2),(0,i._)("div",ya,[(0,i._)("button",{onClick:t=>n.showPrevMedia(e)},"＜",8,ba),(0,i.Uk)("         "),(0,i._)("button",{onClick:t=>n.showNextMedia(e)},"＞",8,ka)]),0!==e.state?((0,i.wg)(),(0,i.iD)("div",fa,"商品不可购买")):(0,i.kq)("",!0)])])]),(0,i._)("td",null,[(0,i._)("div",Pa,(0,g.zw)(e.name),1)]),(0,i._)("td",null,[(0,i._)("div",Aa,(0,g.zw)(e.description),1)]),(0,i._)("td",null,[(0,i._)("div",xa,[(0,i._)("button",{class:"delete-button",onClick:t=>n.dislike(e.id)},"取消收藏",8,Ca)])])])))),128))]),(0,i._)("div",Da,[(0,i._)("button",{onClick:t[5]||(t[5]=(...e)=>n.goToPrevPage&&n.goToPrevPage(...e)),class:"prev",disabled:1===l.currentPage},"上一页",8,Oa),(0,i._)("span",Ia,"第 "+(0,g.zw)(l.currentPage)+" / "+(0,g.zw)(n.totalPages)+" 页",1),(0,i._)("button",{onClick:t[6]||(t[6]=(...e)=>n.goToNextPage&&n.goToNextPage(...e)),class:"next",disabled:l.currentPage===n.totalPages},"下一页",8,Fa)])])])])):((0,i.wg)(),(0,i.iD)("div",Ua,[(0,i.Uk)(" 您还未登录，请先"),Ba]))])}var Ma={data(){return{items:[{id:1,name:"猫咪粮食",price:"99",description:"高营养猫粮",kind:"猫咪主粮",mediaFiles:[{url:s(7112),isActive:!0,isVideo:!1},{url:s(453),isActive:!1,isVideo:!1}]},{id:2,name:"猫咪玩具",price:"49",description:"好玩的猫咪玩具",kind:"猫咪日用",mediaFiles:[{url:s(453),isActive:!0,isVideo:!1},{url:s(7112),isActive:!1,isVideo:!1}]},{id:3,name:"猫咪窝",price:"299",description:"舒适的猫咪小窝",kind:"猫咪主粮",mediaFiles:[{url:s(7112),isActive:!0,isVideo:!1},{url:s(453),isActive:!1,isVideo:!1}]}],searchQuery:"",selectedCategory:"猫咪主粮",filteredItems:[],currentPage:1,itemsPerPage:2,search:{keyword:"",kind:"猫咪主粮"}}},computed:{...(0,Gl.Se)(["isLoggedIn","isSeller","isBuyer"]),username(){return this.$store.state.admin?this.$store.state.admin.username:"未登录"},paginatedItems(){const e=(this.currentPage-1)*this.itemsPerPage,t=this.currentPage*this.itemsPerPage;return this.filteredItems.slice(e,t)},totalPages(){return Math.ceil(this.filteredItems.length/this.itemsPerPage)}},methods:{...(0,Gl.nv)(["logout"]),dislike(e){this.filteredItems=this.filteredItems.filter((t=>t.id!==e)),console.log("已取消收藏的商品ID:",e)},handleLogout(){this.logout(),this.$router.push("/")},navigateTo(e){this.$router.push({name:e})},beforeMount(){this.isLoggedIn||this.$router.push("/")},handleSearch(){this.filteredItems=this.items.filter((e=>{const t=!this.searchQuery||e.name.toLowerCase().includes(this.searchQuery.toLowerCase()),s=!this.selectedCategory||e.kind===this.selectedCategory;return console.log(`Item: ${e.name}, Keyword Match: ${t}, Category Match: ${s}`),t&&s})),console.log("Filtered items count:",this.filteredItems.length)},showPrevMedia(e){const t=e.mediaFiles.findIndex((e=>e.isActive));if(console.log("Current active index:",t),t>=0){const s=(t-1+e.mediaFiles.length)%e.mediaFiles.length;console.log("Previous index:",s),this.setActiveMedia(e,s)}},showNextMedia(e){const t=e.mediaFiles.findIndex((e=>e.isActive));if(console.log("Current active index:",t),t>=0){const s=(t+1)%e.mediaFiles.length;console.log("Next index:",s),this.setActiveMedia(e,s)}},setActiveMedia(e,t){e.mediaFiles.forEach(((e,s)=>{e.isActive=s===t,console.log(`Media at index ${s} active status: `,e.isActive)}))},goToPrevPage(){this.currentPage>1&&(this.currentPage--,console.log("Current page after prev:",this.currentPage))},goToNextPage(){this.currentPage<this.totalPages&&(this.currentPage++,console.log("Current page after next:",this.currentPage))},resetPage(){this.currentPage=1}},watch:{filteredItems(e,t){e!==t&&this.resetPage()}},mounted(){this.filteredItems=this.items}};const qa=(0,n.Z)(Ma,[["render",Sa],["__scopeId","data-v-40b18359"]]);var za=qa;const Ta=e=>((0,i.dD)("data-v-4738da98"),e=e(),(0,i.Cn)(),e),Na={style:{margin:"0px"}},Va={key:0},Qa={class:"left"},La={class:"daohang"},Ka=Ta((()=>(0,i._)("img",{class:"head1",src:me,alt:""},null,-1))),Ra={class:"head2"},Ya={class:"head4"},Ea={class:"head4"},ja={class:"head4"},Ha={class:"head4"},Za={class:"head5"},Ga={class:"right",style:{width:"60%",margin:"0px"}},Wa={class:"container"},$a=Ta((()=>(0,i._)("div",{class:"centered-container"},[(0,i._)("h2",null,"我的购物车")],-1))),Ja={border:"1px",align:"center",cellspacing:"0",style:{width:"100%"}},Xa=Ta((()=>(0,i._)("tr",null,[(0,i._)("th",{class:"table-column"},"展示内容"),(0,i._)("th",{class:"table-column"},"名称"),(0,i._)("th",{class:"table-column"},"购买数量"),(0,i._)("th",{class:"table-column"},"小计"),(0,i._)("th",{class:"table-column"},"操作"),(0,i._)("th",{class:"table-column"},"选择")],-1))),ed={class:"table-column"},td={style:{display:"flex","justify-content":"center","align-items":"center"}},sd={style:{"text-align":"center"}},rd=["src"],id=["src"],od={class:"media-navigation"},ld=["onClick"],nd=["onClick"],ad={key:0,class:"overlay"},dd={class:"table-column"},cd={class:"centered-container"},ud={class:"table-column"},gd={class:"centered-container"},hd=["onClick"],pd=["onUpdate:modelValue","disabled"],md=["onClick"],_d={class:"table-column"},vd={class:"centered-container"},wd={class:"table-column"},yd={class:"centered-container"},bd=["onClick"],kd=["onClick"],fd={class:"table-column"},Pd={class:"centered-container"},Ad=["onUpdate:modelValue"],xd={class:"pagination"},Cd=["disabled"],Dd=["disabled"],Od={key:1,class:"else"},Id=Ta((()=>(0,i._)("a",{href:"login"},"登录",-1)));function Fd(e,t,s,o,l,n){return(0,i.wg)(),(0,i.iD)("body",Na,[l.isLoggedIn?((0,i.wg)(),(0,i.iD)("div",Va,[(0,i._)("div",Qa,[(0,i._)("table",La,[Ka,(0,i._)("tr",null,[(0,i._)("td",Ra,(0,g.zw)(n.username),1)]),(0,i._)("tr",null,[(0,i._)("td",Ya,[(0,i._)("h3",{onClick:t[0]||(t[0]=e=>n.navigateTo("BuyerCart")),class:"head4-1",style:{cursor:"pointer"}},"我的购物车")])]),(0,i._)("tr",null,[(0,i._)("td",Ea,[(0,i._)("h3",{onClick:t[1]||(t[1]=e=>n.navigateTo("BuyerLikes")),class:"head4-1",style:{cursor:"pointer"}},"我的收藏")])]),(0,i._)("tr",null,[(0,i._)("td",ja,[(0,i._)("h3",{onClick:t[2]||(t[2]=e=>n.navigateTo("buyerHistory")),class:"head4-1",style:{cursor:"pointer"}},"历史购买记录")])]),(0,i._)("tr",null,[(0,i._)("td",Ha,[(0,i._)("h3",{onClick:t[3]||(t[3]=e=>n.navigateTo("BuyerMain")),class:"head4-1",style:{cursor:"pointer"}},"返回主页")])]),(0,i._)("tr",null,[(0,i._)("td",Za,[(0,i._)("button",{onClick:t[4]||(t[4]=(...e)=>n.handleLogout&&n.handleLogout(...e)),class:"head5-1",style:{cursor:"pointer"}},"退出登录")])])])]),(0,i._)("div",Ga,[(0,i._)("div",Wa,[$a,(0,i._)("button",{id:"editall-button",onClick:t[5]||(t[5]=(...e)=>n.toggleEdit&&n.toggleEdit(...e))},(0,g.zw)(n.editButtonText),1),(0,i._)("table",Ja,[Xa,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.visibleItems,(e=>((0,i.wg)(),(0,i.iD)("tr",{key:e.id},[(0,i._)("td",ed,[(0,i._)("div",td,[(0,i._)("div",sd,[(0,i._)("div",{class:(0,g.C_)(["media-container",{"sold-out":0!==e.state}])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.mediaFiles,((e,t)=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:t},[e.isVideo?(0,i.kq)("",!0):(0,i.wy)(((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.url,alt:"商品图片"},null,8,rd)),[[r.F8,e.isActive]]),e.isVideo?(0,i.wy)(((0,i.wg)(),(0,i.iD)("video",{key:1,src:e.url,controls:""},null,8,id)),[[r.F8,e.isActive]]):(0,i.kq)("",!0)])),[[r.F8,e.isActive]]))),128))],2),(0,i._)("div",od,[(0,i._)("button",{onClick:t=>n.showPrevMedia(e)},"＜",8,ld),(0,i.Uk)("         "),(0,i._)("button",{onClick:t=>n.showNextMedia(e)},"＞",8,nd)]),0!==e.state?((0,i.wg)(),(0,i.iD)("div",ad,"商品不可购买")):(0,i.kq)("",!0)])])]),(0,i._)("td",dd,[(0,i._)("div",cd,(0,g.zw)(e.name),1)]),(0,i._)("td",ud,[(0,i._)("div",gd,[l.isEditing?((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:t=>n.decrementQuantity(e)},"-",8,hd)):(0,i.kq)("",!0),(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":t=>e.quantity=t,disabled:!l.isEditing,style:{width:"64.6px"}},null,8,pd),[[r.nr,e.quantity,void 0,{number:!0}]]),l.isEditing?((0,i.wg)(),(0,i.iD)("button",{key:1,onClick:t=>n.incrementQuantity(e)},"+",8,md)):(0,i.kq)("",!0)])]),(0,i._)("td",_d,[(0,i._)("div",vd,(0,g.zw)(e.price*e.quantity),1)]),(0,i._)("td",wd,[(0,i._)("div",yd,[(0,i._)("button",{onClick:t=>n.addToFavorites(e.id)},"收藏",8,bd),l.isEditing?((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:t=>n.removeFromCart(e.id)},"删除",8,kd)):(0,i.kq)("",!0)])]),(0,i._)("td",fd,[(0,i._)("div",Pd,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t=>l.selectedItems[e.id]=t},null,8,Ad),[[r.e8,l.selectedItems[e.id]]])])])])))),128))]),(0,i._)("div",null,[(0,i._)("h3",null,"总计: "+(0,g.zw)(n.selectedTotalPrice),1),(0,i._)("button",{onClick:t[6]||(t[6]=(...e)=>n.submitSelectedOrders&&n.submitSelectedOrders(...e))},"提交选中的订单"),(0,i._)("button",{onClick:t[7]||(t[7]=(...e)=>n.addToFavoritesSelectedItems&&n.addToFavoritesSelectedItems(...e))},"一键收藏选中商品")]),(0,i._)("div",xd,[(0,i._)("button",{onClick:t[8]||(t[8]=(...e)=>n.goToPrevPage&&n.goToPrevPage(...e)),disabled:e.isPrevDisabled,class:"prev"},"上一页",8,Cd),(0,i._)("span",null,(0,g.zw)(l.currentPage)+" / "+(0,g.zw)(n.totalPages),1),(0,i._)("button",{onClick:t[9]||(t[9]=(...e)=>n.goToNextPage&&n.goToNextPage(...e)),disabled:e.isNextDisabled,class:"next"},"下一页",8,Dd)])])])])):((0,i.wg)(),(0,i.iD)("div",Od,[(0,i.Uk)(" 您还未登录，请先"),Id]))])}var Ud={data(){return{items:[{id:1,name:"猫咪粮食",price:99,quantity:2,maxQuantity:10,state:0,mediaFiles:[{url:s(7112),isActive:!0,isVideo:!1},{url:s(453),isActive:!1,isVideo:!1}]},{id:2,name:"猫咪玩具",price:49,quantity:3,maxQuantity:15,state:0,mediaFiles:[{url:s(453),isActive:!0,isVideo:!1},{url:s(7112),isActive:!1,isVideo:!1}]},{id:3,name:"猫咪窝",price:299,quantity:1,maxQuantity:5,state:0,mediaFiles:[{url:s(7112),isActive:!0,isVideo:!1},{url:s(453),isActive:!1,isVideo:!1}]}],favorites:[],searchQuery:"",selectedCategory:"猫咪主粮",search:{keyword:"",kind:"猫咪主粮"},isLoggedIn:!0,selectedItems:{},currentPage:1,itemsPerPage:2,isEditing:!1}},computed:{...(0,Gl.Se)(["isLoggedIn","isSeller","isBuyer"]),visibleItems(){const e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;return this.items.slice(e,t)},username(){return this.$store.state.admin?this.$store.state.admin.username:"未登录"},paginatedItems(){const e=(this.currentPage-1)*this.itemsPerPage,t=this.currentPage*this.itemsPerPage;return this.filteredItems.slice(e,t)},totalPages(){return Math.ceil(this.filteredItems.length/this.itemsPerPage)},selectedTotalPrice(){return Object.keys(this.selectedItems).reduce(((e,t)=>{const s=this.cartItems.find((e=>e.id===Number(t)));return s&&this.selectedItems[t]?e+s.price*s.quantity:e}),0)},editButtonText(){return this.isEditing?"查看":"编辑"}},methods:{...(0,Gl.nv)(["logout"]),isItemVisible(e){const t=(this.currentPage-1)*this.itemsPerPage,s=t+this.itemsPerPage;return e>=t&&e<s},handleLogout(){this.logout(),this.$router.push("/")},navigateTo(e){this.$router.push({name:e})},beforeMount(){this.isLoggedIn||this.$router.push("/")},fetchCartItems(){},toggleEdit(){this.isEditing=!this.isEditing,this.isEditing||this.updateCart()},incrementQuantity(e){e.quantity<e.maxQuantity&&e.quantity++},decrementQuantity(e){e.quantity>1&&e.quantity--},removeFromCart(e){this.items=this.items.filter((t=>t.id!==e)),alert("选中的订单已删除！")},addToFavorites(e){const t=this.items.find((t=>t.id===e));t&&(this.favorites.some((t=>t.id===e))?alert("商品已在收藏夹中！"):(this.favorites.push(t),alert("商品已添加到收藏夹！")))},submitSelectedOrders(){this.items=this.items.filter((e=>!this.selectedItems[e.id])),this.selectedItems={},alert("选中的订单已提交！")},addToFavoritesSelectedItems(){alert("选中的商品已收藏！"),this.selectedItems={}},changePage(e){this.currentPage=e},updateCart(){},showPrevMedia(e){const t=e.mediaFiles.findIndex((e=>e.isActive));if(console.log("Current active index:",t),t>=0){const s=(t-1+e.mediaFiles.length)%e.mediaFiles.length;console.log("Previous index:",s),this.setActiveMedia(e,s)}},showNextMedia(e){const t=e.mediaFiles.findIndex((e=>e.isActive));if(console.log("Current active index:",t),t>=0){const s=(t+1)%e.mediaFiles.length;console.log("Next index:",s),this.setActiveMedia(e,s)}},setActiveMedia(e,t){e.mediaFiles.forEach(((e,s)=>{e.isActive=s===t,console.log(`Media at index ${s} active status: `,e.isActive)}))},goToPrevPage(){this.currentPage>1&&(this.currentPage--,console.log("Current page after prev:",this.currentPage))},goToNextPage(){this.currentPage<this.totalPages&&(this.currentPage++,console.log("Current page after next:",this.currentPage))},resetPage(){this.currentPage=1}},created(){this.cartItems=this.items,this.filteredItems=this.cartItems,this.fetchCartItems(),this.fetchCartItems()},watch:{filteredItems(e,t){e!==t&&this.resetPage()}},mounted(){this.filteredItems=this.items}};const Bd=(0,n.Z)(Ud,[["render",Fd],["__scopeId","data-v-4738da98"]]);var Sd=Bd,Md="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFEAAABRBAMAAABYoVcFAAAAG1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACUUeIgAAAACXRSTlMA/99/v0Agn2B4dSdqAAAAe0lEQVR4nO3WwQ1AUBCE4U1oYDlwFAl3HRANUIU6dC6jgv8iSGbOk++9vWw2nD9n6jdWLDNH1lwya0pmQ8lsKZkzJStMdiZNmnySPCkZmLybbL9poAE1d/0ToYWeZ+hk1KjR91B22whlt41QdtsIZaZQtvcijhUWna/kAmZUH+sovcNdAAAAAElFTkSuQmCC";const qd=e=>((0,i.dD)("data-v-0af7f16a"),e=e(),(0,i.Cn)(),e),zd={style:{"background-color":"#FFF9F1"}},Td=qd((()=>(0,i._)("hr",{class:"cline",color:"#BBBBBB",width:"1",size:"900"},null,-1))),Nd={class:"left"},Vd=qd((()=>(0,i._)("a",{href:"/buyer-shop"},[(0,i._)("img",{src:Md,alt:"",width:"40",title:"返回商品界面"})],-1))),Qd={class:"good-2"},Ld={colspan:"2",class:"goodname"},Kd={colspan:"2",class:"description"},Rd=qd((()=>(0,i._)("br",null,null,-1))),Yd=qd((()=>(0,i._)("td",{class:"price"},"总价：",-1))),Ed={class:"price"},jd=qd((()=>(0,i._)("td",{class:"price"},"剩余库存量：",-1))),Hd={class:"price"},Zd={class:"right"},Gd={class:"username"},Wd={class:"form-group"},$d=qd((()=>(0,i._)("label",null,"购买数量：",-1))),Jd=["max"],Xd={class:"form-group"},ec=qd((()=>(0,i._)("label",null,"姓名：",-1))),tc=qd((()=>(0,i._)("br",null,null,-1))),sc={class:"form-group"},rc=qd((()=>(0,i._)("label",null,"电话：",-1))),ic=qd((()=>(0,i._)("br",null,null,-1))),oc={class:"form-group"},lc=qd((()=>(0,i._)("label",null,"交易地点：",-1))),nc=qd((()=>(0,i._)("br",null,null,-1))),ac=qd((()=>(0,i._)("button",{type:"submit",class:"butt-2"},"确认购买",-1)));function dc(e,t,s,o,l,n){return(0,i.wg)(),(0,i.iD)("body",zd,[Td,(0,i._)("div",Nd,[Vd,(0,i._)("table",Qd,[(0,i._)("tr",null,[(0,i._)("td",Ld,(0,g.zw)(l.selectedProduct.name),1)]),(0,i._)("tr",null,[(0,i._)("td",Kd,[Rd,(0,i.Uk)((0,g.zw)(l.selectedProduct.description),1)])]),(0,i._)("tr",null,[Yd,(0,i._)("td",Ed,(0,g.zw)(l.selectedProduct.price),1)]),(0,i._)("tr",null,[jd,(0,i._)("td",Hd,(0,g.zw)(l.selectedProduct.stock),1)])]),(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>n.cancelPurchase&&n.cancelPurchase(...e)),class:"butt-2"},"取消购买")]),(0,i._)("div",Zd,[(0,i._)("form",{onSubmit:t[5]||(t[5]=(0,r.iM)(((...e)=>n.confirmPurchase&&n.confirmPurchase(...e)),["prevent"])),class:"buy-imf"},[(0,i._)("label",Gd,[(0,i._)("div",Wd,[$d,(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=e=>l.purchase.quantity=e),min:"1",max:l.selectedProduct.stock,required:"",style:{width:"200px",height:"66.4px"}},null,8,Jd),[[r.nr,l.purchase.quantity,void 0,{number:!0}]])]),(0,i._)("div",Xd,[ec,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>l.purchase.buyerName=e),required:""},null,512),[[r.nr,l.purchase.buyerName]])]),tc,(0,i._)("div",sc,[rc,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>l.purchase.telephone=e),required:""},null,512),[[r.nr,l.purchase.telephone]])]),ic,(0,i._)("div",oc,[lc,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>l.purchase.address=e),required:""},null,512),[[r.nr,l.purchase.address]])]),nc]),ac],32)])])}var cc={data(){return{selectedProduct:{name:"猫咪粮食",description:"高营养猫粮",price:99,stock:20},purchase:{quantity:1,buyerName:"buyer",telephone:"12345678901",address:"jjw家"}}},methods:{cancelPurchase(){this.$router.push("/buyer")},confirmPurchase(){this.validateForm()&&(alert("成功创建订单！"),this.$router.push("/buyer"))},validateForm(){const e=/^[0-9]{11}$/;return e.test(this.purchase.telephone)?this.purchase.buyerName.length>10?(alert("用户名不能超过10个字符！"),!1):!(this.purchase.address.length>99)||(alert("地址不能超过99个字符！"),!1):(alert("电话号码需要是11位数字！"),!1)}}};const uc=(0,n.Z)(cc,[["render",dc],["__scopeId","data-v-0af7f16a"]]);var gc=uc;const hc=e=>((0,i.dD)("data-v-fc10f38c"),e=e(),(0,i.Cn)(),e),pc={style:{margin:"0px"}},mc={key:0},_c={class:"left"},vc={class:"daohang"},wc=hc((()=>(0,i._)("img",{class:"head1",src:me,alt:""},null,-1))),yc={class:"head2"},bc={class:"head4"},kc={class:"head4"},fc={class:"head4"},Pc={class:"head4"},Ac={class:"head5"},xc={class:"right",style:{width:"100%"}},Cc=hc((()=>(0,i._)("a",{href:"/buyer"},[(0,i._)("img",{src:Md,alt:"",width:"40",title:"返回商品界面"})],-1))),Dc={class:"picture-k"},Oc=["src"],Ic=["src"],Fc={class:"media-navigation"},Uc={class:"good-2"},Bc={colspan:"2",class:"goodname"},Sc={colspan:"2",class:"description"},Mc=hc((()=>(0,i._)("td",{class:"price"},"价格：",-1))),qc={class:"price"},zc=hc((()=>(0,i._)("td",{class:"price"},"剩余库存量：",-1))),Tc={class:"price"},Nc={class:"centered-container"},Vc={key:1},Qc={class:"else"},Lc={class:"left"},Kc={class:"daohang"},Rc=hc((()=>(0,i._)("img",{class:"head1",src:me,alt:""},null,-1))),Yc=hc((()=>(0,i._)("tr",null,[(0,i._)("td",{class:"head2"},"游客")],-1))),Ec=hc((()=>(0,i._)("tr",null,[(0,i._)("td",{class:"head4"},[(0,i._)("h3",{class:"head4-1"},"其他功能后登录使用")])],-1))),jc={class:"head5"},Hc={class:"right",style:{width:"100%"}},Zc=hc((()=>(0,i._)("a",{href:"/buyer"},[(0,i._)("img",{src:Md,alt:"",width:"40",title:"返回商品界面"})],-1))),Gc={class:"picture-k"},Wc=["src"],$c=["src"],Jc={class:"media-navigation"},Xc={class:"good-2"},eu={colspan:"2",class:"goodname"},tu={colspan:"2",class:"description"},su=hc((()=>(0,i._)("td",{class:"price"},"价格：",-1))),ru={class:"price"},iu=hc((()=>(0,i._)("td",{class:"price"},"剩余库存量：",-1))),ou={class:"price"},lu={class:"centered-container"};function nu(e,t,s,o,l,n){return(0,i.wg)(),(0,i.iD)("body",pc,[e.isLoggedIn?((0,i.wg)(),(0,i.iD)("div",mc,[(0,i._)("div",_c,[(0,i._)("table",vc,[wc,(0,i._)("tr",null,[(0,i._)("td",yc,(0,g.zw)(n.username),1)]),(0,i._)("tr",null,[(0,i._)("td",bc,[(0,i._)("h3",{onClick:t[0]||(t[0]=e=>n.navigateTo("BuyerCart")),class:"head4-1",style:{cursor:"pointer"}},"我的购物车")])]),(0,i._)("tr",null,[(0,i._)("td",kc,[(0,i._)("h3",{onClick:t[1]||(t[1]=e=>n.navigateTo("BuyerLikes")),class:"head4-1",style:{cursor:"pointer"}},"我的收藏")])]),(0,i._)("tr",null,[(0,i._)("td",fc,[(0,i._)("h3",{onClick:t[2]||(t[2]=e=>n.navigateTo("buyerHistory")),class:"head4-1",style:{cursor:"pointer"}},"历史购买记录")])]),(0,i._)("tr",null,[(0,i._)("td",Pc,[(0,i._)("h3",{onClick:t[3]||(t[3]=e=>n.navigateTo("BuyerMain")),class:"head4-1",style:{cursor:"pointer"}},"返回主页")])]),(0,i._)("tr",null,[(0,i._)("td",Ac,[(0,i._)("button",{onClick:t[4]||(t[4]=(...e)=>n.handleLogout&&n.handleLogout(...e)),class:"head5-1",style:{cursor:"pointer"}},"退出登录")])])])]),(0,i._)("div",xc,[Cc,(0,i._)("div",Dc,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.selectedProduct.mediaFiles,((e,s)=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:"media-container",key:s},[e.isVideo?((0,i.wg)(),(0,i.iD)("video",{key:1,src:e.url,controls:"",class:"product-video",style:{width:"200px"}},null,8,Ic)):((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.url,alt:"商品图片",class:"product-image",style:{width:"415.8px",height:"504.9px"}},null,8,Oc)),(0,i._)("div",Fc,[(0,i._)("button",{class:"media-navigation-button prev-button",onClick:t[5]||(t[5]=e=>n.showPrevMedia(l.selectedProduct))},"＜"),(0,i._)("button",{class:"media-navigation-button next-button",onClick:t[6]||(t[6]=e=>n.showNextMedia(l.selectedProduct))},"＞")])])),[[r.F8,e.isActive]]))),128))]),(0,i._)("table",Uc,[(0,i._)("tr",null,[(0,i._)("td",Bc,(0,g.zw)(l.selectedProduct.name),1)]),(0,i._)("tr",null,[(0,i._)("td",Sc,(0,g.zw)(l.selectedProduct.description),1)]),(0,i._)("tr",null,[Mc,(0,i._)("td",qc,(0,g.zw)(l.selectedProduct.price),1)]),(0,i._)("tr",null,[zc,(0,i._)("td",Tc,(0,g.zw)(l.selectedProduct.stock),1)])]),(0,i._)("div",Nc,[(0,i._)("button",{onClick:t[7]||(t[7]=e=>n.buyProduct(l.selectedProduct.id)),class:"butt-1",style:{cursor:"pointer"}},"购买该商品"),(0,i.Uk)("   "),(0,i._)("button",{onClick:t[8]||(t[8]=e=>n.addToCart(l.selectedProduct.id)),class:"butt-1",style:{cursor:"pointer"}},"加入购物车"),(0,i.Uk)("   "),(0,i._)("button",{onClick:t[9]||(t[9]=e=>n.addToFavorites(l.selectedProduct.id)),class:"butt-1",style:{cursor:"pointer"}},"收藏商品")])])])):((0,i.wg)(),(0,i.iD)("div",Vc,[(0,i._)("div",Qc,[(0,i._)("div",Lc,[(0,i._)("table",Kc,[Rc,Yc,Ec,(0,i._)("tr",null,[(0,i._)("td",jc,[(0,i._)("button",{onClick:t[10]||(t[10]=(...e)=>n.handleLogout&&n.handleLogout(...e)),class:"head5-1",style:{cursor:"pointer"}},"返回登录")])])])]),(0,i._)("div",Hc,[Zc,(0,i._)("div",Gc,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.selectedProduct.mediaFiles,((e,s)=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:"media-container",key:s},[e.isVideo?((0,i.wg)(),(0,i.iD)("video",{key:1,src:e.url,controls:"",class:"product-video",style:{width:"200px"}},null,8,$c)):((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.url,alt:"商品图片",class:"product-image",style:{width:"415.8px",height:"504.9px"}},null,8,Wc)),(0,i._)("div",Jc,[(0,i._)("button",{class:"media-navigation-button prev-button",onClick:t[11]||(t[11]=e=>n.showPrevMedia(l.selectedProduct))},"＜"),(0,i._)("button",{class:"media-navigation-button next-button",onClick:t[12]||(t[12]=e=>n.showNextMedia(l.selectedProduct))},"＞")])])),[[r.F8,e.isActive]]))),128))]),(0,i._)("table",Xc,[(0,i._)("tr",null,[(0,i._)("td",eu,(0,g.zw)(l.selectedProduct.name),1)]),(0,i._)("tr",null,[(0,i._)("td",tu,(0,g.zw)(l.selectedProduct.description),1)]),(0,i._)("tr",null,[su,(0,i._)("td",ru,(0,g.zw)(l.selectedProduct.price),1)]),(0,i._)("tr",null,[iu,(0,i._)("td",ou,(0,g.zw)(l.selectedProduct.stock),1)])]),(0,i._)("div",lu,[(0,i._)("button",{onClick:t[13]||(t[13]=e=>n.buyProduct(l.selectedProduct.id)),class:"butt-1",style:{cursor:"pointer"}},"购买该商品"),(0,i.Uk)("   "),(0,i._)("button",{onClick:t[14]||(t[14]=e=>n.addToCart(l.selectedProduct.id)),class:"butt-1",style:{cursor:"pointer"}},"加入购物车"),(0,i.Uk)("   "),(0,i._)("button",{onClick:t[15]||(t[15]=e=>n.addToFavorites(l.selectedProduct.id)),class:"butt-1",style:{cursor:"pointer"}},"收藏商品")])])])]))])}var au={data(){return{items:[{id:1,name:"猫咪粮食",price:"99",description:"高营养猫粮",kind:"猫咪主粮",mediaFiles:[{url:s(7112),isActive:!0,isVideo:!1},{url:s(453),isActive:!1,isVideo:!1}]}],searchQuery:"",selectedProduct:{name:"猫咪粮食",description:"高营养猫粮",price:"99",kind:"猫咪主粮",stock:"13",mediaFiles:[{url:s(7112),isActive:!0,isVideo:!1},{url:s(453),isActive:!1,isVideo:!1}]},selectedCategory:"猫咪主粮",filteredItems:[],currentPage:1,itemsPerPage:2,search:{keyword:"",kind:"猫咪主粮"}}},computed:{...(0,Gl.Se)(["isLoggedIn","isSeller","isBuyer"]),username(){return this.$store.state.admin?this.$store.state.admin.username:"未登录"},paginatedItems(){const e=(this.currentPage-1)*this.itemsPerPage,t=this.currentPage*this.itemsPerPage;return this.filteredItems.slice(e,t)},totalPages(){return Math.ceil(this.filteredItems.length/this.itemsPerPage)}},methods:{...(0,Gl.nv)(["logout"]),handleLogout(){this.logout(),this.$router.push("/")},navigateTo(e){this.$router.push({name:e})},beforeMount(){this.isLoggedIn||this.$router.push("/")},fetchProductData(){},getUsername(){return this.$store.state.username},showPrevMedia(e){const t=e.mediaFiles.findIndex((e=>e.isActive));if(console.log("Current active index:",t),t>=0){const s=(t-1+e.mediaFiles.length)%e.mediaFiles.length;console.log("Previous index:",s),this.setActiveMedia(e,s)}},showNextMedia(e){const t=e.mediaFiles.findIndex((e=>e.isActive));if(console.log("Current active index:",t),t>=0){const s=(t+1)%e.mediaFiles.length;console.log("Next index:",s),this.setActiveMedia(e,s)}},setActiveMedia(e,t){e.mediaFiles.forEach(((e,s)=>{e.isActive=s===t,console.log(`Media at index ${s} active status: `,e.isActive)}))},buyProduct(e){this.$router.push({name:"BuyerFillInfo",params:{productId:e}})},addToCart(){alert("该商品加入购物车成功！")},addToFavorites(){alert("该商品收藏成功！")}},created(){this.fetchProductData(),this.username=this.getUsername()},mounted(){this.filteredItems=this.items}};const du=(0,n.Z)(au,[["render",nu],["__scopeId","data-v-fc10f38c"]]);var cu=du;const uu=(0,i._)("h2",null,"错误界面",-1),gu={key:0},hu={key:1};function pu(e,t,s,r,o,l){const n=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",null,[uu,o.errorMessage?((0,i.wg)(),(0,i.iD)("div",gu,(0,g.zw)(o.errorMessage),1)):(0,i.kq)("",!0),o.redirectTo?((0,i.wg)(),(0,i.iD)("div",hu,[(0,i.Wm)(n,{to:o.redirectTo},{default:(0,i.w5)((()=>[(0,i.Uk)("返回页面")])),_:1},8,["to"])])):(0,i.kq)("",!0)])}var mu={data(){return{errorMessage:"",redirectTo:null}},created(){this.errorMessage=this.$route.query.err||"",this.redirectTo=this.$route.query.to||"/"}};const _u=(0,n.Z)(mu,[["render",pu]]);var vu=_u;const wu=[{path:"/",component:U},{path:"/error",component:vu},{path:"/register",component:se},{path:"/choose-register",component:pe},{path:"/buyer",name:"BuyerMain",component:Mt},{path:"/seller",name:"SellerMain",component:rs,redirect:{name:"ShowGoods"},children:[{path:"ShowGoods",name:"ShowGoods",component:wi},{path:"update-password",name:"UpdatePassword",component:Os},{path:"publish-goods",name:"PublishGoods",component:Cr},{path:"show-userinfo",name:"ShowUserInfo",component:Ti},{path:"user-order-history",name:"UserOrderHistory",component:Jl},{path:"show-historygoods",name:"ShowHistoryGoods",component:co},{path:"show-allusers",name:"ShowAllUsers",component:Do},{path:"upload-multiplegoods",name:"UploadMultipleGoods",component:hl}]},{path:"/forgot-password",name:"ForgotPasswordComponent",component:Dl},{path:"/guest",name:"GuestComponent",component:Ml},{path:"/success",name:"Success",component:an,props:!0},{path:"/secret-question",name:"SecretQuestion",component:kn},{path:"/buyer-history",name:"buyerHistory",component:$n},{path:"/likes",name:"BuyerLikes",component:za},{path:"/cart",name:"BuyerCart",component:Sd},{path:"/buyer-fill-info",name:"BuyerFillInfo",component:gc},{path:"/buyer-shop",name:"BuyerShop",component:cu}],yu=(0,u.p7)({history:(0,u.PO)(),routes:wu});var bu=yu,ku=(0,Gl.MT)({state:{admin:null},getters:{isLoggedIn:e=>!!e.admin,isSeller:e=>e.admin&&1===e.admin.power,isBuyer:e=>e.admin&&0===e.admin.power},mutations:{setAdmin(e,t){e.admin=t,e.isLoggedIn=!0,localStorage.setItem("admin",JSON.stringify(t))},clearAdmin(e){e.admin=null,localStorage.removeItem("admin")}},actions:{login({commit:e},t){console.log("Login action triggered",t);const s="seller",r="buyer",i="123";t.username===s&&t.password===i?(e("setAdmin",{username:s,power:1}),console.log("Admin set to seller")):t.username===r&&t.password===i?(e("setAdmin",{username:r,power:0}),console.log("Admin set to buyer")):console.log("Invalid credentials")},logout({commit:e}){e("clearAdmin")}}});const fu=(0,r.ri)(c),Pu=localStorage.getItem("admin");Pu&&ku.commit("setAdmin",JSON.parse(Pu)),fu.use(bu),fu.use(ku),fu.mount("#app")},7112:function(e,t,s){e.exports=s.p+"img/food-1.5d4050e6.jpg"},453:function(e,t,s){e.exports=s.p+"img/food-2.faccd89e.jpg"},6129:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAA6CAMAAADx2BEqAAAA2FBMVEX9pmf///8AAAD/+vf+xp7+vY7/9u//7+T/8Ob//fv+07T+6Nf9pmf9pmb9pmf5pGb9pmj9q2/+3MT///7//v3//Pr/+fX+38j/+/jtpFv9p2f8pmf+v5P9sHj+wpb/69z+2r/9uIf/8un9s37//fz/9/H+1Lb+z63+xZ39tYD+59b/6tr+5ND/8OX/+PT/9e7+yKH+3sf/pmb+4cv/9Oz+0bD+5dL+1rr+1bj+59T+yKD+yqX+zKf+4c3+zar+xZv+4Mr9u4v/7N/+w5j+2Lz9uoj+v5H/7+Oq/kPNAAAASHRSTlP//wD////////////9zO0tm///////////Dotc/////////////////////////////zz///////////////////////////+1ri3VAAADwklEQVR4nO2d13biMBBAPYHQiytlaQk1QAiQQnrZ/v9/tCM35LLJPuzitTT3IUHCnKNzdJFHwhopRz7tjlqtVRRCaCq1qtpp73vdF6CuUt9LQ0WthwX4lHSbiMPyKSBAvZp0e4hDU3UGAVuAy1rSrSEOT+3SE6BO/S8lNTYGMAFo/JeUqiMAxX/SgpGgclRPuhVEctRRADXpRhDJoR4pbcnWf3pa0i34n6i0lU7SbfinaA+9YMW0sSADODqK2HeArTns8+UbC8xt+CLta9bnGMu91325e6iWJoSqCD0H3GQAGjO+5tkAaxq66jgHPmUsZ/FTHoWDtTUZqorYi0Az7EvrhKuY5wEmgUFBbgFqiuAx4GYCYDa52/5jA2AQvAYFaDw3kbLpCZBjxea5JbwAgnc/0l+jAedchW7dhwJDFCDH7v1KqegJ4PS7/4JIMd1rWHexa2PR2RUkgNh0l13WtSSAzNxcZFxaBpgtr5Cx40MSQFjm0Wk8i/Ds3t5DAoiKthg/hwI+EkAmdBOMwo9gHQkgEb2FEV4JJAGkQtMx+i/q/M8/JIBcTHFZ17zlKsIClPL5lQXWKo8MDZjgv8IYMqzovSgduM3E3+Tlwgj8ABwWQI9fIIgsFhBpJbudvxcDkABy4K8E8QtBuVf7PYoBJCB2LTiTtd8jAYTm1P5LAsjKcW59y68G0jRQMmYWZB648h8IsGmRAOJwBbD6YCEIq67tG4UrgPuPBBABbQXGG18RI4D/jXd7/sSAexJAEM4a0HriK2IEmBbdpwRdAXDQcKb+JED6wW+zM7x7xAiwBbiyX7gCDKDorP6SAOlnAMA/ERorwMD7tcAR4PMaMmckgBj0J9632SMqAE4C3HmCI8BTyxs0SIDUczcOd3dUAOz24YgT4M1wJwEkQPpZRnaBRAXAa9y7BEaDZWU09AcNEiDtdCdg4IO//N6vyC99OE+wZkr/S365w01D92wY8AzBRSTxBRB6b9CtCQ2M594VYAfsDoCRH8O6GeHmwR3eO5r648vQ2SsoMhWxN4fiHIAtA54u7Ad84ig9tmB8h5cWsPuNi28samDOlB0/TH5jqYjUhN4ePlpY7gz/92g7M++EgA7ffxosInCeEzGWgYdJBKQqeIII7Sm0FTzmkpNNoDxvso/Mz1h6iMASkpCogqeIIT6gI12SKIIHk0RRmjiZwTRxlChSZliiSEoVKy92qlhKFi0tbrJoShcvKX66eDowQkr2B0bQkTEywh8ZQ4dGyUfw0Cg6Nk4uYo6No4MjJSF8cOQvbKw8lNEyy/cAAAAASUVORK5CYII="}},t={};function s(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,r,i,o){if(!r){var l=1/0;for(c=0;c<e.length;c++){r=e[c][0],i=e[c][1],o=e[c][2];for(var n=!0,a=0;a<r.length;a++)(!1&o||l>=o)&&Object.keys(s.O).every((function(e){return s.O[e](r[a])}))?r.splice(a--,1):(n=!1,o<l&&(l=o));if(n){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,i,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,o,l=r[0],n=r[1],a=r[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(i in n)s.o(n,i)&&(s.m[i]=n[i]);if(a)var c=a(s)}for(t&&t(r);d<l.length;d++)o=l[d],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(c)},r=self["webpackChunkmaoliang_project"]=self["webpackChunkmaoliang_project"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(9e3)}));r=s.O(r)})();
//# sourceMappingURL=app.cb3a8301.js.map